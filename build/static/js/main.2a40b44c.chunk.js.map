{"version":3,"sources":["components/cart/breakPoint.js","components/homepage/Banner.js","components/homepage/Food.js","components/homepage/FoodList.js","components/homepage/Filter.js","components/homepage/HomePage.js","components/cart/chicken.png","components/cart/CartContent.js","components/cart/CartTotalPrices.js","http-common.js","services/cart.service.js","components/cart/Cart.js","components/homepage/logo.png","components/Menu/FoodInMenu.js","components/Menu/RenderElement.js","components/Menu/FoodTypeList.js","components/homepage/Appbar.js","components/cartinfo/TotalPayment.js","components/FoodInfo/QuantitySelector.js","components/FoodInfo/OrderOptionItem.js","components/cartinfo/CartInfo.js","components/FoodInfo/FoodDescription.js","components/FoodInfo/ImagesSlide.js","components/FoodInfo/OrderOptionModal.js","services/food.service.js","components/staff/FoodEditor.js","components/FoodInfo/FoodInfo.js","components/Login/Login.js","components/homepage/Footer.js","components/Menu/TaskSearch.js","components/CheckOut/Map.js","components/CheckOut/data.js","components/CheckOut/CheckOut.js","components/HandlerOrder/HandlerOrder.js","components/Login/ProtectedRoute.js","components/CheckOut/Success.js","App.js","index.js"],"names":["module","exports","sm","md","lg","axios","require","Banner","useState","imageBanner","setImageBanner","useEffect","get","then","res","data","imageUrls","catch","err","alert","style","className","Carousel","Item","src","alt","xmlns","width","height","fill","class","viewBox","d","numberWithCommas","x","toString","replace","Food","props","food","price","discountPrice","value","discount","length","parseFloat","substr","parseInt","showDetail","setShowDetail","compactStyle","display","WebkitLineClamp","WebkitBoxOrient","overflow","name","description","no","onClick","window","open","_id","focus","FoodList","rawFoods","setRawFoods","listItems","map","afood","Filter","filterLink","console","log","Homepage","Container","styled","div","Header","breakPoint","TrashIcon","Trash","FirstGrid","Description","Name","span","SideDish","p","SinglePrice","Amount","InputGroup","prettyNumber","ItemQuantity","decQuantity","offset","type","min","onChange","e","nextValue","updateQuantity","handleValue","target","quantity","incQuantity","CartHeader","checked","isActiveAll","toggleAll","checkedNumber","deleteActiveItems","OrderItem","active","toggle","imgUrl","to","sideDish","handleQuantity","addition","deleteItem","PaginatedItems","numItemsPerPage","items","currentItems","setCurrentItems","pageCount","setPageCount","itemOffset","setItemOffset","endOffset","slice","Math","ceil","marginRight","breakLabel","nextLabel","onPageChange","event","newOffset","selected","pageRangeDisplayed","previousLabel","renderOnZeroPageCount","breakClassName","breakLinkClassName","containerClassName","pageClassName","pageLinkClassName","previousClassName","previousLinkClassName","nextClassName","nextLinkClassName","activeClassName","Content","CartContent","cartItems","Total","Calculation","TotalPrice","PayButton","button","Intl","NumberFormat","format","amount","additionalFee","flexFlow","alignItems","CartTotalPrice","history","useHistory","total","money","forEach","item","disabled","filter","push","create","headers","http","localStorage","ShoppingCart","CartTitle","CartInner","Cart","setData","chooseAll","setChooseAll","cartStorage","JSON","parse","getItem","itemIdList","foodId","CartService","getList","stringify","response","foodData","cartData","index","foodItem","find","optionSum","str","newData","findIndex","setItem","allIsActive","every","splice","setNCartItem","arrIndex","unshift","FoodInMenu","image","id","Card","marginTop","marginBottom","marginLeft","Img","variant","Body","Title","textAlign","Text","color","fontWeight","Button","backgroundColor","borderColor","RenderFoodElement","val","food_name","img","FoodTypeList","arrAll","Appbar","filtered","pagingSearch","nCartItem","setSearchTerm","pageNumber","ChangePage","menu","i","ReactDOM","render","document","getElementById","scrollTo","HandleSearch","searchKey","location","href","removeVI","toLowerCase","includes","key","RenderElement","Array","from","_","Page","temp","LogInIcon","LogOutIcon","DisplayLog","Nav","Link","removeItem","Navbar","expand","sticky","Brand","logo","Toggle","Collapse","Form","Col","xs","FormControl","placeholder","size","onKeyPress","preventDefault","TotalPayment","fooUnitPrice","orderOptionsAnswer","ListGroup","as","ListGroupItem","Row","title","reduce","r","a","answer","Badge","pill","pre","cur","QuantitySelector","initQuantity","setQuantity","callbacks","newQuantity","callback","raiseEvent","LOWER_BOUND","onBlur","Number","isNaN","OrderOptionItem","orderOptionItem","checkedOptions","setCheckedOptions","onCheck","idx","new_checkOptions","newAnswer","isMultiSelect","options","option","for","CartInfo","cartItemId","useParams","CART_STORAGE_NAME","cart","setOrderOptionsAnswer","setFood","cartItem","setCartItem","cartItemOffset","orderOptions","newCart","ele","join","xl","Figure","Image","FoodDescription","unitPrice","ImagesSlide","imageData","mainImgIdx","setMainImgIdx","bottomImgIdxs","setBottomImgIdxs","imgIdxs","getInitBottomImgs","onMouseEnter","OrderOptionModal","setAdditionalPrice","totalPrice","onSubmit","tabindex","images","orderOption","orderOptionPrice","_idx","newFood","post","put","delete","EditPage","FoodEditor","mode","isShowEditor","setIsShowEditor","Editor","show","onHide","basicInfo","setBasicInfo","url","setUrl","isSelected","setOptions","setImageUrls","FoodService","getOptions","msg","getFoodById","newOptions","optionIds","Modal","centered","closeButton","Group","Label","Control","max","defaultValue","onKeyUp","code","newUrls","TextList","list","urls","Check","newOpt","Select","Footer","confirm","deleteFood","createFood","updateFood","reload","TList","maxWidth","FoodInfo","FOOD_ID","setTotalPrice","additionalPrice","newTotalPrice","curCart","uuidv4","preVal","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","Login","account","setAccount","pw","setPw","minWidth","paddingTop","paddingBottom","method","error","listStyle","paddingLeft","textDecoration","arr","Init","TaskSearch","tmp","setTemp","filterNameInit","setFilterNameInit","setPageNumber","init","setInit","colorVar","setColorVar","borderRadiusVar","setBorderRadiusVar","borderColorVar","setBorderColor","boxShadowVar","setBoxShadowVar","ChangeEffective","JSONDATA","t","boxShadow","borderRadius","FilterBar","MenuInGen","FilterFunction","sort","b","FilterFunctionDesc","NoFilterFunction","click","margin","TOKEN","FROM","Log","kilometersToFee","km","fee","round","calculateShipFee","shipFee","distance","duration","textToLocation","fromLocation","toLocation","NaN","routes","locationsToRoutes","minutes","getDistanceFromLatLonInKm","lat","lon","addressText","raw","fetch","json","placeName","features","place_name","center","locatiA","locatiB","URL","route","lat1","lon1","lat2","lon2","dLat","deg2rad","dLon","sin","cos","atan2","sqrt","deg","PI","districtOptionList","wardOptionList","Product","product","CheckOut","DEFAULT_LOCATE","district","setDistrict","ward","setWard","wardOption","setWardOption","setShipFee","shipTime","setShipTime","shipAddress","setShipAddress","fetchData","useLocation","state","handleCheckOut","phone","address","paymentMethod","querySelector","orderInfo","TOTAL","acc","toFixed","validate","htmlFor","even","newDistrict","handleWardChange","HandlerOrder","onDisplayNumber","setOnDisplayNumber","ProcessBar","displayOrder","currStatus","number","cursor","status","handlerRejectAll","statusCurr","statusUpdate","handlerAcceptAll","OrderInfo","order","lgShow","setLgShow","Date","createdAt","toLocaleDateString","customerInfo","typeOrder","sttOrder","handlerAccept","scrollable","imageUrl","scope","ProtectedRoute","Component","component","isAuthenticated","Success","App","exact","path","StrictMode"],"mappings":"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","file":"static/js/main.2a40b44c.chunk.js","sourcesContent":["const size = {\r\n    sm: '576px',\r\n    md: '768px',\r\n    lg: '992px',\r\n}\r\n\r\nmodule.exports = size;","import { Carousel } from \"react-bootstrap\";\r\nimport { useEffect, useState } from \"react\";\r\nconst axios = require('axios');\r\n\r\n\r\nexport default function Banner() {\r\n    const [imageBanner, setImageBanner] = useState([]);\r\n\r\n    useEffect(() => {\r\n        axios.get(\"/banner\")\r\n            .then(res => {\r\n                setImageBanner(res.data.imageUrls);\r\n            })\r\n            .catch(err => {\r\n                alert(\"Occur when loading image banner\");\r\n            });\r\n    }, [])\r\n\r\n    const style = \"card text-center shadow col-11 col-sm-3 col-xl-2 m-3\";\r\n    // card text-center shadow col-sm-3 col-md-2 col-xs-2 m-3\r\n    \r\n    return (\r\n        <>\r\n        <div className=\"row justify-content-center\">\r\n        <Carousel className=\"slide-banner col-md-12 col-xs-10 col-sm-10\">\r\n            <Carousel.Item>\r\n                <img\r\n                className=\"d-block w-100\"\r\n                src= {imageBanner[0]}\r\n                alt=\"First slide\"\r\n                />\r\n            </Carousel.Item>\r\n            <Carousel.Item>\r\n                <img\r\n                className=\"d-block w-100\"\r\n                src= {imageBanner[1]}\r\n                alt=\"Second slide\"\r\n                />\r\n            </Carousel.Item>\r\n            <Carousel.Item>\r\n                <img\r\n                className=\"d-block w-100\"\r\n                src= {imageBanner[2]}\r\n                alt=\"Third slide\"\r\n                />\r\n            </Carousel.Item>\r\n            <Carousel.Item>\r\n                <img\r\n                className=\"d-block w-100\"\r\n                src={imageBanner[3]}\r\n                alt=\"Fourth slide\"\r\n                />\r\n            </Carousel.Item>\r\n            <Carousel.Item>\r\n                <img\r\n                className=\"d-block w-100\"\r\n                src={imageBanner[4]}\r\n                alt=\"Fourth slide\"\r\n                />\r\n            </Carousel.Item>\r\n        </Carousel>\r\n        </div>\r\n        \r\n        <div className=\"row mt-3 mb-3 justify-content-center card-deck\">\r\n            <div className={style}>\r\n                <div className=\"card-header\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#E30220\" class=\"bi bi-clock\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z\"/>\r\n                        <path d=\"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z\"/>\r\n                    </svg>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <p>Thứ 2 - Chủ nhật</p>\r\n                    <p>9:00 am - 8:00 pm</p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={style}>\r\n                <div className=\"card-header\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#E30220\" class=\"bi bi-geo-alt\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z\"/>\r\n                        <path d=\"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>\r\n                    </svg>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <p>307A, Tô Hiến Thành</p>\r\n                    <p>Quận 10, TP. Hồ Chí Minh</p>\r\n                    {/* <p>100 Lê Lợi, phường Bến Thành,</p>\r\n                    <p>quận 1, TP. Hồ Chí Minh</p> */}\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div className={style}>\r\n                <div className=\"card-header\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#E30220\" class=\"bi bi-telephone\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z\"/>\r\n                    </svg>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <p>(+84) 123 456 7890</p>\r\n                    <p>(+84) 943 585 3494</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}","import React, { useState } from \"react\";\r\n// import foodImage from \"./img/ga_ran.png\"\r\n// import { Link } from \"react-router-dom\";\r\n// import FoodList from \"./FoodList\";\r\n\r\n// function addToCart(id) { // TODO: make this a callback with foodId\r\n//   console.log(\"Add to cart: \" + id);\r\n// }\r\n\r\nfunction numberWithCommas(x) {\r\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n}\r\n\r\nfunction Food(props) {\r\n  const food = props.food;\r\n  // const tmp = JSON.parse(food.description);\r\n  // const listItems = tmp.map((d) => <li key={d}>{d}</li>);\r\n  const discount = function () {\r\n    let value = food.discount;\r\n    if (value[value.length - 1] === '%') {\r\n      value = parseFloat(value.substr(0, value.length - 1)) / 100\r\n        * food.price;\r\n    } else {\r\n      value = parseInt(value)\r\n    }\r\n    return food.price - value;\r\n  }\r\n  const price = numberWithCommas(food.price) + 'đ';\r\n  const discountPrice = numberWithCommas(discount()) + 'đ';\r\n\r\n  const [showDetail, setShowDetail] = useState(false);\r\n  const compactStyle = showDetail ? {} : {\r\n    display: '-webkit-box',\r\n    WebkitLineClamp: '2',\r\n    WebkitBoxOrient: 'vertical',\r\n    overflow: 'hidden'\r\n  };\r\n\r\n  return (\r\n    <div className=\"fluid-container overflow-hidden shadow rounded\" >\r\n\r\n      <img className=\"w-100 round\" src={food.imageUrls[0]} alt=\"\"/>\r\n      <div className=\"px-3\">\r\n        <h3 className=\"my-2 my-sm-4\">{food.name}</h3>\r\n        <p><strike>{price}</strike></p>\r\n        <h5>{discountPrice}</h5>\r\n        <div style={compactStyle}>\r\n          {food.description}\r\n        </div>\r\n        <h5>Đã mua: {food.no}</h5>\r\n      </div>\r\n      <div \r\n        className=\"d-flex justify-content-center\"\r\n        onClick={() => { setShowDetail(!showDetail); } }\r\n      >\r\n        {\r\n          (showDetail) ? \r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-chevron-compact-up\" viewBox=\"0 0 16 16\">\r\n            <path fill-rule=\"evenodd\" d=\"M7.776 5.553a.5.5 0 0 1 .448 0l6 3a.5.5 0 1 1-.448.894L8 6.56 2.224 9.447a.5.5 0 1 1-.448-.894l6-3z\"/>\r\n          </svg> :\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-chevron-compact-down\" viewBox=\"0 0 16 16\">\r\n            <path fill-rule=\"evenodd\" d=\"M1.553 6.776a.5.5 0 0 1 .67-.223L8 9.44l5.776-2.888a.5.5 0 1 1 .448.894l-6 3a.5.5 0 0 1-.448 0l-6-3a.5.5 0 0 1-.223-.67z\"/>\r\n          </svg> \r\n        }\r\n      </div>\r\n      <div className=\"d-flex justify-content-center\">\r\n        <div className=\"py-2 py-sm-3\">\r\n          <button \r\n            onClick={() => window.open(\"/food-info/\" + food._id, '_blank').focus()}\r\n            className=\"btn btn-md shadow-none btn-primary\"\r\n          >\r\n            Đặt hàng\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Food;","import React, {useState, useEffect} from \"react\";\r\nimport Food from \"./Food\";\r\nimport foods from \"./foods.json\";\r\n\r\nconst axios = require('axios');\r\n// TODO: useContext for foods.json\r\n\r\nexport default function FoodList(props) {\r\n  // var rawFoods = foods.combo\r\n  // if(props.name === \"combo\") {\r\n  //   rawFoods = foods.combo\r\n  // }\r\n  // else if(props.name === \"drink\") {\r\n  //   rawFoods = foods.drink;\r\n  // }\r\n  const[rawFoods, setRawFoods] = useState(null);\r\n  useEffect(() => {\r\n    axios.get('/order/top-food')\r\n      .then(res => {\r\n        setRawFoods(res.data);\r\n      })\r\n      .catch(err => {\r\n        alert('Occur when loading foods in homepage')\r\n      })\r\n  }, [])\r\n  if(!rawFoods) {\r\n    return(\r\n      <div><p>Loading</p></div>\r\n    )\r\n  }\r\n  const listItems = rawFoods.map((afood) => (\r\n    <div className=\"col-10 col-sm-6 col-md-4 col-xl-3\">\r\n      <Food food={afood}/>      \r\n    </div>  \r\n  ));\r\n\r\n  return (\r\n    <div className=\"container overflow-hidden\">\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <div class=\"mb-3 mt-3\">\r\n            <h3>Món ăn được mua nhiều tại cửa hàng</h3>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"row g-5 justify-content-center justify-content-sm-start mb-5\">\r\n        {listItems}\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React, { useState } from \"react\";\r\nimport FoodList from \"./FoodList\";\r\n// import Food from \"./Food\";\r\n\r\nconst categories = [\r\n  {\r\n    imageUrl: \"https://kfcvietnam.com.vn/uploads/combo/b09860e31866521c22705711916cc402.jpg\",\r\n    name: \"Combo\",\r\n    link: \"/combo\"\r\n  },\r\n  {\r\n    imageUrl: \"https://kfcvietnam.com.vn/uploads/product/d9e2a3a3bd13fcf569f714339220ea7b.png\",\r\n    name: \"Đồ uống\",\r\n    link: \"/drink\"\r\n  },\r\n  {\r\n    imageUrl: \"https://kfcvietnam.com.vn/uploads/combo/c21e391e9447babbc5ec76a902b68d88.jpg\",\r\n    name: \"Hamburger\",\r\n    link: \"/hamburger\"\r\n  },\r\n  {\r\n    imageUrl: \"https://kfcvietnam.com.vn/uploads/combo/68c63acecebbd5752530e3064e5d6cfb.jpg\",\r\n    name: \"Gà rán\",\r\n    link: \"/toast\"\r\n  },\r\n  // {\r\n  //   imageUrl: \"./img/default_background.png\",\r\n  //   name: \"Gà rán\",\r\n  //   link: \"/toast\"\r\n  // },\r\n  // {\r\n  //   imageUrl: \"./img/default_background.png\",\r\n  //   name: \"Gà rán\",\r\n  //   link: \"/toast\"\r\n  // }\r\n];\r\n\r\nfunction handleFilterItemClick(link) {\r\n  console.log(\"Filter: \" + link); // TODO: filter or sort - Thien Toan assigned\r\n}\r\n\r\n// function ShowFiltered(props) {\r\n//   if(props.name === \"/combo\") {\r\n//     return (<FoodList name=\"combo\" />);\r\n//   }\r\n//   else if(props.name === \"/drink\") {\r\n//     return (<FoodList name=\"drink\" />);\r\n//   }\r\n//   return <FoodList name=\"combo\" />\r\n// }\r\n\r\nfunction FilterItem(props) {\r\n  const buttonClass = props.isActive ? \"border border-primary border-5 rounded-3\": \"\";\r\n\r\n  return (\r\n    <div className=\"fluid-container overflow-hidden\">\r\n      <div className=\"position-relative align-items-center justify-content-center\">\r\n        <div className={buttonClass}>\r\n          <img className=\"w-100 opacity-75\" src={props.imageUrl} alt=\"\"/>\r\n          <div className=\"position-absolute top-50 start-50 translate-middle\">\r\n            <h3>{props.name}</h3>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Filter() {\r\n  const [expectedName, setExpectedName] = useState('');\r\n  let filterLink;\r\n\r\n  function renderPlaceHolder(i) {\r\n    return (\r\n      <>\r\n      <div \r\n        className=\"col-6 col-sm-4 col-md-3 col-lg-2\"\r\n        onClick={() => {\r\n          setExpectedName(categories[i].name);\r\n          handleFilterItemClick(categories[i].link);\r\n          filterLink = categories[i].link;\r\n        }}\r\n      >\r\n        <FilterItem \r\n          name={categories[i].name}\r\n          imageUrl={categories[i].imageUrl} // TODO: use image from the web\r\n          isActive={categories[i].name === expectedName}\r\n        />\r\n      </div>\r\n      \r\n      </>\r\n    );\r\n  }\r\n\r\n  console.log(filterLink);\r\n  return (\r\n    <div className=\"fluid-container overflow-hidden\">\r\n      {/* <div className=\"row g-3 justify-content-center\">\r\n        {categories.map((item, index) => renderPlaceHolder(index))}\r\n      </div> */}\r\n      \r\n      <FoodList />\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nexport default Filter","import React from \"react\";\r\n// import Appbar from \"./Appbar\"\r\nimport Banner from \"./Banner\"\r\nimport Filter from \"./Filter\";\r\n// import Footer from \"./Footer\";\r\n\r\nfunction Homepage() {\r\n  return (\r\n    <div className=\"container\">\r\n        <Banner />\r\n        <Filter />\r\n    </div>\r\n    \r\n  );\r\n}\r\n\r\nexport default Homepage;\r\n","export default __webpack_public_path__ + \"static/media/chicken.3a0abddc.png\";","import styled from \"styled-components\"\r\nimport { Trash } from 'react-bootstrap-icons';\r\nimport chicken from './chicken.png'\r\nimport { useState, useEffect } from \"react\";\r\nimport ReactPaginate from 'react-paginate';\r\nimport breakPoint from './breakPoint';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Container = styled.div`\r\n  background: #fff;\r\n  border-radius: 5px;\r\n  padding: 10px 0 .5px 0;\r\n`;\r\n\r\nconst Header = styled(Container)`\r\n  padding: 10px 0;\r\n  margin: 0 0 10px 0;\r\n  input {\r\n    margin-right: 7px;\r\n  }\r\n  span {\r\n    display:inline;\r\n  }\r\n  @media only screen and (max-width: ${breakPoint.md}) {\r\n    span {\r\n      display: none;\r\n    }\r\n  }\r\n`;\r\nconst TrashIcon = styled(Trash)`\r\n  font-size: 20px;\r\n  width: fit-content!important;\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\nconst Item = styled.div`\r\n  margin: 10px 0;\r\n`;\r\nItem.FirstGrid = styled.div`\r\n  input {\r\n    margin-right: 7px;\r\n  }\r\n`;\r\nItem.Description = styled.div`\r\n  margin: 0 0 0 7px;\r\n`;\r\nItem.Name = styled.span`\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  &:hover {\r\n    color: red;\r\n    cursor: pointer;\r\n  }\r\n`;\r\nItem.SideDish = styled.p`\r\n  font-size: 13px;\r\n  color: gray;\r\n  margin-bottom: 5px;\r\n`;\r\nItem.SinglePrice = styled.div`\r\n  display: flex;\r\n  flex-flow: column;\r\n  span {\r\n    font-weight: 600;\r\n  }\r\n  .old {\r\n    text-decoration: line-through;\r\n  }\r\n  .new {\r\n    color: red;\r\n  }\r\n`;\r\nItem.Amount = styled.span`\r\n  font-weight: 600;\r\n  color: red;\r\n`;\r\n\r\n// For number counting button\r\nconst InputGroup = styled.div`\r\n  input {\r\n    color: black;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    width: 40px!important;\r\n    padding: 2px 7px;\r\n    text-align: center;\r\n    border: none;\r\n  }\r\n  input::-webkit-outer-spin-button,\r\n  input::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n    margin: 0;\r\n  }\r\n  input:focus {\r\n    outline: none;\r\n  }\r\n\r\n  button {\r\n    border-radius: 0;\r\n    width: 30px;\r\n    border: none;\r\n    font-weight: 600;\r\n    padding: 2px;\r\n  }\r\n  .input-group {\r\n    margin: 0;\r\n    border: .5px solid #dedede;\r\n    width: fit-content;\r\n    height: fit-content;\r\n    border-radius: 7px;\r\n    overflow: hidden;\r\n    flex-wrap: nowrap;\r\n  }\r\n`;\r\n\r\n\r\nfunction prettyNumber(x) {\r\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n}\r\n\r\n/* Component tăng giảm số lượng */\r\nfunction ItemQuantity(props) {\r\n  const handleValue = function (offset, data) {\r\n    let nextValue;\r\n    if (data === '') nextValue = 1;\r\n    else nextValue = parseInt(data);\r\n    props.updateQuantity(offset, nextValue);\r\n  }\r\n  return (\r\n    <InputGroup className='col-md-4 col-4'>\r\n      <div className='input-group'>\r\n        <div className='input-group-prepend'>\r\n          <button onClick={() => props.decQuantity(props.offset)}\r\n            className='btn btn-primary shadow-none'>\r\n            {'-'}\r\n          </button>\r\n        </div>\r\n        <input type='number' min={1}\r\n          onChange={e => handleValue(props.offset, e.target.value)} value={props.quantity} />\r\n        <div className='input-group-append'>\r\n          <button onClick={() => props.incQuantity(props.offset)}\r\n            className='btn btn-primary shadow-none'>\r\n            {'+'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </InputGroup>\r\n  )\r\n}\r\n\r\nfunction CartHeader(props) {\r\n  return (\r\n    <Header className='row d-flex justify-content-between align-items-center'>\r\n      <label className='col-md-5 col-10'>\r\n        <input type='checkbox' checked={props.isActiveAll}\r\n          onChange={props.toggleAll} />\r\n        {`Tất cả (${props.checkedNumber} sản phẩm)`}\r\n      </label>\r\n      <span className='col-md-2'>Đơn giá</span>\r\n      <span className='col-md-2'>Số lượng</span>\r\n      <span className='col-md-2'>Thành tiền</span>\r\n      <TrashIcon onClick={props.deleteActiveItems} className='col-md-1 col-2' />\r\n    </Header>\r\n  )\r\n}\r\n\r\nfunction OrderItem(props) {\r\n  const discount = function () {\r\n    let value = props.discount;\r\n    if (value[value.length - 1] === '%') {\r\n      value = parseFloat(value.substr(0, value.length - 1)) / 100\r\n        * props.price;\r\n    } else {\r\n      value = parseInt(value)\r\n    }\r\n    return props.price - value;\r\n  }\r\n\r\n  return <Item className='row align-items-center justify-content-between'>\r\n    <Item.FirstGrid className='col-md-5 col-12 d-flex align-items-center'>\r\n      <input type='checkbox'\r\n        checked={props.active} onChange={() => props.toggle(props.offset)} />\r\n\r\n      <img src={props.imgUrl} width='90' height='90' alt='chicken' />\r\n\r\n      <Item.Description>\r\n        <Item.Name>\r\n          <Link class=\"text-black\" to={\"/cart-item-info/\" + props.offset}>{props.name}</Link>\r\n        </Item.Name>\r\n        <Item.SideDish>{props.sideDish}</Item.SideDish>\r\n\r\n        {props.discount !== '0' &&\r\n          <span className='badge rounded-pill bg-danger'>\r\n            -{props.discount}\r\n          </span>}\r\n\r\n      </Item.Description>\r\n    </Item.FirstGrid>\r\n\r\n    <Item.SinglePrice className='col-md-2 col-1'>\r\n      <span className={`${props.discount !== '0' ? 'old' : ''}`}>{prettyNumber(props.price)}</span>\r\n      {props.discount !== '0' && <span className='new'>{prettyNumber(discount())}</span>}\r\n    </Item.SinglePrice>\r\n\r\n    <ItemQuantity offset={props.offset} {...props.handleQuantity}\r\n      quantity={props.quantity} />\r\n\r\n    <Item.Amount className='col-md-2 col-1'>\r\n      {prettyNumber(discount() * props.quantity + props.addition)}đ\r\n    </Item.Amount >\r\n    <TrashIcon onClick={() => props.deleteItem(props.offset)} className='col-md-05 col-1' />\r\n  </Item>\r\n}\r\n\r\n/** \r\n * Pagination\r\n * @param numItemsPerPage: Số lượng item tối đa trong 1 page\r\n * @param items: List item data truyền vào\r\n * @param {*} : Các parameters khác là function t truyền từ các component cha nên ko cần quan tâm\r\n * @returns <ReactPaginate /> (https://www.npmjs.com/package/react-paginate)\r\n * Lưu ý: Trong giỏ hàng có thể gửi 1 lần hết dữ liệu, tuy nhiên paginate trong phần khám phá món ăn (thực đơn), \r\n * việc gửi hết data về client là lãng phí không cần thiết. Nguyên do là khách hàng có thể chỉ coi một vài trang.\r\n * Cách giải quyết: Thay đổi logic @function handlePageClick(), @function useEffect() ...\r\n */\r\nfunction PaginatedItems({ numItemsPerPage, items, toggle, handleQuantity, deleteItem }) {\r\n  // We start with an empty list of items.\r\n  const [currentItems, setCurrentItems] = useState([]);\r\n  const [pageCount, setPageCount] = useState(0);\r\n  // Here we use item offsets; we could also use page offsets\r\n  // following the API or data you're working with.\r\n  const [itemOffset, setItemOffset] = useState(0);\r\n\r\n  useEffect(() => {\r\n    // Fetch items from another resources.\r\n    const endOffset = itemOffset + numItemsPerPage;\r\n    setCurrentItems(items.slice(itemOffset, endOffset));\r\n    setPageCount(Math.ceil(items.length / numItemsPerPage));\r\n  }, [itemOffset, numItemsPerPage, items]);\r\n\r\n  // Invoke when user click to request another page.\r\n  const handlePageClick = (event) => {\r\n    const newOffset = (event.selected * numItemsPerPage) % items.length;\r\n    setItemOffset(newOffset);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <div>\r\n        {\r\n          currentItems.map(value =>\r\n            <OrderItem {...value} toggle={toggle} handleQuantity={handleQuantity}\r\n              deleteItem={deleteItem} />)\r\n        }\r\n      </div>\r\n      <div style={{ marginRight: '12px' }}>\r\n        <ReactPaginate\r\n          breakLabel=\"...\"\r\n          nextLabel=\">\"\r\n          onPageChange={handlePageClick}\r\n          pageRangeDisplayed={5}\r\n          pageCount={pageCount}\r\n          previousLabel=\"<\"\r\n          renderOnZeroPageCount={null}\r\n          breakClassName={'page-item'}\r\n          breakLinkClassName={'page-link'}\r\n          containerClassName={'pagination'}\r\n          pageClassName={'page-item'}\r\n          pageLinkClassName={'page-link'}\r\n          previousClassName={'page-item'}\r\n          previousLinkClassName={'page-link'}\r\n          nextClassName={'page-item'}\r\n          nextLinkClassName={'page-link'}\r\n          activeClassName={'active'}\r\n        />\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n\r\nconst Content = styled.div`\r\n  .col-md-4 {\r\n    width: 17.5%;\r\n    flex: 0 0 auto;\r\n    max-width: 45%;\r\n  }\r\n  .col-md-3 {\r\n    width: 15%;\r\n    flex: 0 0 auto;\r\n    max-width: 45%;\r\n  }\r\n`\r\n\r\nfunction CartContent(props) {\r\n  return (\r\n    <Content className='col-lg-9 col-md-12'>\r\n      <CartHeader toggleAll={props.toggleAll} isActiveAll={props.isActiveAll}\r\n        checkedNumber={props.cartItems.length}\r\n        deleteActiveItems={props.deleteActiveItems} />\r\n      <PaginatedItems numItemsPerPage={4} items={props.cartItems}\r\n        toggle={props.toggle} handleQuantity={props.handleQuantity}\r\n        deleteItem={props.deleteItem} />\r\n    </Content>\r\n  );\r\n}\r\n\r\nexport default CartContent;","import { useHistory } from \"react-router\";\r\nimport styled from \"styled-components\"\r\n\r\nconst Container = styled.div`\r\n  width: 100%;\r\n  border-radius: 5px;\r\n  background: #fff;\r\n  padding: 15px; \r\n  margin-top: 10px;\r\n`;\r\n\r\nconst Total = styled(Container)`\r\n\tborder: 0.5px #999999 solid;\r\n`;\r\nTotal.Calculation = styled.div`\r\n\tfont-size: 15px;\r\n\t.cal {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin-bottom: 5px;\r\n\t\tline-height: 25px;\r\n\t}\r\n\tpadding-bottom: 20px;\r\n\tborder-bottom: 0.5px #d9d9d9 solid;\r\n`;\r\nTotal.TotalPrice = styled.div`\r\n\tmargin-top: 20px;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tfont-size: 15px;\r\n\t.total-pay {\r\n\t\tcolor:red\r\n\t}\r\n\t.description {\r\n\t\tfont-size: 13px;\r\n\t}\r\n`;\r\nconst PayButton = styled.button`\r\n\tbackground: rgb(255, 66, 78);\r\n\tcolor: rgb(255, 255, 255);\r\n\tpadding: 13px 10px;\r\n\ttext-align: center;\r\n\tborder-radius: 4px;\r\n\tborder: none;\r\n\twidth: 100%;\r\n\tdisplay: block;\r\n\tmargin: 15px 0px;\r\n  cursor: pointer;\r\n\tfont-weight: 700;\r\n`;\r\n\r\nfunction TotalPrice(props) {\r\n\treturn <Total>\r\n\t\t<Total.Calculation>\r\n\t\t\t<div className='cal'>\r\n\t\t\t\t<span>Giá gốc</span>\r\n\t\t\t\t<span>+ {Intl.NumberFormat().format(props.amount())}đ</span>\r\n\t\t\t</div>\r\n\t\t\t<div className='cal'>\r\n\t\t\t\t<span>Món phụ</span>\r\n\t\t\t\t<span>+ {Intl.NumberFormat().format(props.additionalFee())}đ</span>\r\n\t\t\t</div>\r\n\t\t\t<div className='cal'>\r\n\t\t\t\t<span>Giảm giá</span>\r\n\t\t\t\t<span>- {Intl.NumberFormat().format(props.discount())}đ</span>\r\n\t\t\t</div>\r\n\t\t</Total.Calculation>\r\n\t\t<Total.TotalPrice>\r\n\t\t\t<div>Tổng cộng</div>\r\n\t\t\t<div style={{ display: 'flex', flexFlow: 'column', alignItems: 'end' }}>\r\n\t\t\t\t<div className='total-pay'>{Intl.NumberFormat().format(props.amount() - props.discount() + props.additionalFee())}đ</div>\r\n\t\t\t\t<div className='description'>(Đã bao gồm VAT nếu có)</div>\r\n\t\t\t</div>\r\n\t\t</Total.TotalPrice>\r\n\t</Total>\r\n}\r\n\r\nexport default function CartTotalPrice(props) {\r\n\tconst history = useHistory();\r\n\tconst total = {\r\n\t\tamount: function() {\r\n\t\t\tlet money = 0;\r\n\t\t\tprops.cartItems.forEach(function(item) {\r\n\t\t\t\tif(item.active) money += item.price * item.quantity;\r\n\t\t\t})\r\n\t\t\treturn money;\r\n\t\t},\r\n\t\tdiscount: function() {\r\n\t\t\tlet money = 0;\r\n\t\t\tprops.cartItems.forEach(item => {\r\n\t\t\t\tif(item.active) {\r\n\t\t\t\t\tlet value = item.discount;\r\n\t\t\t\t\tif(value[value.length - 1] === '%') {\r\n\t\t\t\t\t\tconsole.log(value)\r\n\t\t\t\t\t\tvalue = parseFloat(value.substr(0, value.length - 1)) / 100 \r\n\t\t\t\t\t\t\t* item.price * item.quantity;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvalue = parseInt(value) * item.quantity\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmoney += value\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn money\r\n\t\t},\r\n\t\tadditionalFee: function() {\r\n\t\t\tlet money = 0\r\n\t\t\tprops.cartItems.forEach(item => {\r\n\t\t\t\tif(item.active) money += item.addition\r\n\t\t\t})\r\n\t\t\treturn money\r\n\t\t}\r\n\t}\r\n\tconst numberOfItems = () => {\r\n\t\treturn props.cartItems.filter(value => value.active === true).length\r\n\t}\r\n\tconst payBill = () => {\r\n\t\twindow.localStorage.setItem('bill', JSON.stringify({\r\n\t\t\tamount: total.amount(),\r\n\t\t\tdiscount: total.discount(),\r\n\t\t\taddition: total.additionalFee()\r\n\t\t}))\r\n\t\twindow.location.href=\"/checkout\"\r\n\t}\r\n\t\r\n\t\r\n\treturn (\r\n\t\t<div className='col-lg-3 col-md-12'>\r\n\t\t\t<TotalPrice {...total}/>\r\n\t\t\t<PayButton\r\n\t\t\t\tdisabled={numberOfItems() === 0}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t// console.log(props.cartItems)\r\n\t\t\t\thistory.push('/checkout',props.cartItems.filter(value => value.active === true))\r\n\t\t\t}}>Đặt hàng ({\r\n\t\t\t\t\tprops.cartItems.filter(value => value.active === true).length\r\n\t\t\t\t})</PayButton>\r\n\t\t\t{/* <PayButton onClick={payBill} \r\n\t\t\t\tdisabled={numberOfItems() === 0}>\r\n\t\t\t\tĐặt hàng ({numberOfItems()})\r\n\t\t\t</PayButton> */}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import axios from 'axios';\r\nexport default axios.create({\r\n    headers: {\r\n        'Content-type': 'application/json'\r\n    }\r\n})\r\n","import http from '../http-common';\r\n\r\nclass CartDataService {\r\n    getList(data) {\r\n        return http.get(`/cart?list=${data}`)\r\n    }\r\n}\r\n\r\nexport default new CartDataService();","import { useState, useEffect } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport CartContent from \"./CartContent\"\r\nimport CartTotalPrice from \"./CartTotalPrices\"\r\nimport CartService from \"../../services/cart.service\"\r\n\r\nconst localStorage = window.localStorage\r\n\r\nconst ShoppingCart = styled.div`\r\n    margin-top: 5px;\r\n    max-width: 94%;\r\n`\r\nconst CartTitle = styled.div`\r\n    text-transform: uppercase;\r\n    font-size: 20px;\r\n    font-weight: 650;\r\n    line-height: 28px;\r\n    margin-bottom: 5px;\r\n`\r\nconst CartInner = styled.div``\r\n\r\nconst cartSampleLocalData = [{\r\n    uniqueOffset: '',\r\n    foodId: \"618eb8bfc195fbd6f3d8983d\",\r\n    quantity: 5,\r\n    optionSum: {\r\n        str: \"Không cay/Fanta\",\r\n        price: 0\r\n    },\r\n    orderOptions: [{\r\n        isMultiSelect: false,\r\n        options: [\"Cực cay\", \"Cay vừa\", \"Cay nhẹ\", \"Không cay\"],\r\n        price: [0, 0, 0, 0],\r\n        answer: [true, false, false, false],\r\n        title: \"Độ cay\",\r\n        _id: \"618eb1edc195fbd6f3cf8195\"\r\n    }]\r\n}, {\r\n    uniqueOffset: '',\r\n    foodId: \"618eb8bfc195fbd6f3d8983d\",\r\n    quantity: 3,\r\n    optionSum: {\r\n        str: \"Cực cay/Pepsi\",\r\n        price: 5000\r\n    },\r\n    orderOptions: [{\r\n        isMultiSelect: false,\r\n        options: [\"Cực cay\", \"Cay vừa\", \"Cay nhẹ\", \"Không cay\"],\r\n        price: [0, 0, 0, 0],\r\n        answer: [true, false, false, false],\r\n        title: \"Độ cay\",\r\n        _id: \"618eb1edc195fbd6f3cf8195\"\r\n    }]\r\n}, {\r\n    uniqueOffset: '',\r\n    foodId: \"619229f1792fa260bd3a1003\",\r\n    quantity: 2,\r\n    optionSum: {\r\n        str: \"Cay/Trà đào\",\r\n        price: 10000\r\n    },\r\n    orderOptions: [{\r\n        isMultiSelect: false,\r\n        options: [\"Cực cay\", \"Cay vừa\", \"Cay nhẹ\", \"Không cay\"],\r\n        price: [0, 0, 0, 0],\r\n        answer: [true, false, false, false],\r\n        title: \"Độ cay\",\r\n        _id: \"618eb1edc195fbd6f3cf8195\"\r\n    }]\r\n}]\r\n\r\n// Mock\r\n//localStorage.setItem('cart', JSON.stringify(cartSampleLocalData))\r\n\r\nexport default function Cart(props) {\r\n    const [data, setData] = useState([])\r\n    const [chooseAll, setChooseAll] = useState(false);\r\n\r\n    // Load cart basic info from local storage when load page\r\n    const cartStorage = JSON.parse(localStorage.getItem('cart'));\r\n    const itemIdList = cartStorage !== null ? cartStorage.map(item => item.foodId) : null;\r\n\r\n    useEffect(() => {\r\n        itemIdList && CartService.getList(\r\n            JSON.stringify(itemIdList)\r\n        ).then(response => {\r\n            console.log(response.data)\r\n            const foodData = response.data;\r\n            const cartData = cartStorage.map((item, index) => {\r\n                let foodItem = foodData.find(value => {\r\n                    return value._id === item.foodId\r\n                })\r\n                return {\r\n                    offset: item.offset,\r\n                    foodId: foodItem._id,\r\n                    name: foodItem.name,\r\n                    imgUrl: foodItem.imageUrls[0],\r\n                    price: foodItem.price,\r\n                    quantity: item.quantity,\r\n                    active: false,\r\n                    sideDish: item.optionSum.str,\r\n                    addition: item.optionSum.price,\r\n                    discount: foodItem.discount\r\n                }\r\n            });\r\n            setData(cartData);\r\n        }).catch(err => console.log(err))\r\n    }, [])\r\n\r\n    const updateIndex = () => {\r\n\r\n    }\r\n\r\n    const toggleActive = function (offset) {\r\n        const newData = [...data];\r\n        const item = newData.find(value => value.offset === offset)\r\n        item.active = !item.active\r\n\r\n        setData(newData);\r\n\r\n        let allIsActive = newData.every(value => value.active === true);\r\n        setChooseAll(allIsActive);\r\n    };\r\n\r\n    const toggleAllActive = function () {\r\n        const newData = [...data];\r\n        let allIsActive = newData.every(value => value.active === true);\r\n\r\n        // Select all items, if one or no item select.\r\n        // Otherwise, if all items are selected, unselect them \r\n        newData.forEach(value => { value.active = !allIsActive });\r\n        setData(newData);\r\n        setChooseAll(!chooseAll);\r\n    };\r\n\r\n    const handleQuantity = {\r\n        decQuantity: function (offset) {\r\n            const newData = [...data];\r\n            const index = newData.findIndex(value => value.offset === offset)\r\n            if (newData[index].quantity > 1) {\r\n                newData[index].quantity--;\r\n                cartStorage[index].quantity--;\r\n            }\r\n            localStorage.setItem('cart', JSON.stringify(cartStorage))\r\n            setData(newData);\r\n        },\r\n        incQuantity: function (offset) {\r\n            const newData = [...data];\r\n            const index = newData.findIndex(value => value.offset === offset)\r\n            newData[index].quantity++\r\n            cartStorage[index].quantity++\r\n            localStorage.setItem('cart', JSON.stringify(cartStorage))\r\n            setData(newData);\r\n        },\r\n        updateQuantity: function (offset, value) {\r\n            const newData = [...data];\r\n            const index = newData.findIndex(value => value.offset === offset)\r\n            newData[index].quantity = value\r\n            cartStorage[index].quantity = value\r\n            localStorage.setItem('cart', JSON.stringify(cartStorage))\r\n            setData(newData);\r\n        }\r\n    }\r\n\r\n    const deleteItem = function (offset) {\r\n        const newData = [...data];\r\n        const index = newData.findIndex(value => value.offset === offset)\r\n        newData.splice(index, 1);\r\n        cartStorage.splice(index, 1)\r\n\r\n        localStorage.setItem('cart', JSON.stringify(cartStorage))\r\n        props.setNCartItem(cartStorage.length)\r\n        setData(newData)\r\n    }\r\n\r\n    const deleteActiveItems = function () {\r\n        const arrIndex = []\r\n        const newData = data.filter((value, index) => {\r\n            arrIndex.unshift(index)\r\n            return value.active === false\r\n        });\r\n        arrIndex.forEach(value => {\r\n            cartStorage.splice(value, 1);\r\n        })\r\n        props.setNCartItem(cartStorage.length)\r\n        setData(newData)\r\n    }\r\n\r\n    return (\r\n        <ShoppingCart className='container'>\r\n            <CartTitle>Giỏ hàng</CartTitle>\r\n            <CartInner className='row'>\r\n                <CartContent cartItems={data} toggle={toggleActive}\r\n                    toggleAll={toggleAllActive} isActiveAll={chooseAll}\r\n                    handleQuantity={handleQuantity}\r\n                    deleteItem={deleteItem}\r\n                    deleteActiveItems={deleteActiveItems} />\r\n                <CartTotalPrice cartItems={data} />\r\n            </CartInner>\r\n        </ShoppingCart>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.99b86f84.png\";","import React from \"react\";\r\nimport {Card} from 'react-bootstrap';\r\nimport {Button} from 'react-bootstrap';\r\nimport Food from \"../homepage/Food\";\r\n\r\nfunction FoodInMenu({name,price,image,id,discount}) {\r\n  return (\r\n    <Card style={{ width: '18rem',display:'inline-block',marginTop:'3%',marginBottom:'4%',marginLeft:'6px',marginRight:'5px'}}>\r\n    <Card.Img variant=\"top\" src={image} />\r\n    <Card.Body>\r\n    <Card.Title style={{ textAlign:'center'}}>{name}</Card.Title>\r\n    <Card.Text style={{ width: '18rem',color:'#F63C3C',fontWeight:'bold' }}>\r\n      {/* {Intl.NumberFormat().format(price)}đ */}\r\n      {\r\n        (discount.length > 0 && discount[0] !== \"0\") ? <div class=\"text-primary text-start\" >\r\n                <p class=\"text-decoration-line-through text-secondary\" style={{marginLeft:'30%'}}>{ Intl.NumberFormat().format(price) + \" VNĐ\" }</p>\r\n                <h4 style={{marginLeft:'23%'}}>{ Intl.NumberFormat().format(price * (1 - parseFloat(discount) / 100)) + \" VNĐ\" }</h4>\r\n            </div> : <div class=\"text-primary text-start\" >\r\n                <p class=\"text-decoration-line-through text-secondary\" style={{marginLeft:'30%'}}>{ Intl.NumberFormat().format(price) + \" VNĐ\" }</p>\r\n                <h4 style={{marginLeft:'23%'}}>{ Intl.NumberFormat().format(price * (1 - parseFloat(discount) / 100)) + \" VNĐ\" }</h4>\r\n            </div>\r\n      }\r\n    </Card.Text>\r\n    <Button class=\"btn btn-light text-danger\" variant=\"primary\" style={{ marginLeft:'15%', width:'183px', height:'52px',backgroundColor:'#ffffff', borderColor:'#BF0000',fontWeight:'bold',color:'#BF0000' }}  onClick={() => window.open(\"/food-info/\" + id, '_blank').focus()} >Xem</Button>\r\n    </Card.Body>\r\n    </Card>\r\n  );\r\n}\r\nexport default FoodInMenu;\r\n","import React from \"react\";\r\nimport FoodInMenu from './FoodInMenu.js'\r\n\r\nfunction RenderFoodElement(props){\r\n  return (\r\n    <FoodInMenu name={props.val.food_name} price={props.val.price} image={props.val.img} id={props.val.id} discount={props.val.discount}/>\r\n  );\r\n}\r\n\r\nexport default RenderFoodElement;","import React from \"react\";\r\nimport {Button} from 'react-bootstrap';\r\nimport { useState, useEffect } from 'react';\r\n//import NormalFoodType from './NormalFoodType.js'\r\n\r\nfunction FoodTypeList() {\r\n\r\n    const array = ['Combo','Foody','Drink','Appetizer','Dessert']\r\n\r\n    function ChangeEffective(e){\r\n        //console.log(e.target.id)\r\n        var idChange = document.getElementById(e.target.id)\r\n        idChange.style.borderRadius = '50px'\r\n        idChange.style.borderColor = '#F63C3C'\r\n        idChange.style.color = '#F63C3C'\r\n        idChange.style.boxShadow = '1px 1px #F63C3C'\r\n        for(var i=0;i<array.length;i++) {\r\n            if (array[i] === e.target.id) continue;\r\n            else {\r\n                var idNormal = document.getElementById(array[i])\r\n                idNormal.style.borderColor='#ffffff'\r\n                idNormal.style.color='#000000'\r\n                idNormal.style.borderRadius='12px'\r\n                idNormal.style.boxShadow='None'\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div style={{backgroundColor:'#AFEEEE',height:'100px', width:'100%'}}\r\n        >\r\n            <Button id=\"Combo\" class=\"btn btn-light text-danger\" \r\n            variant=\"primary\" onClick={ChangeEffective}\r\n            style={{ width:'150px', height:'52px',backgroundColor:'#ffffff', \r\n            borderColor:'#ffffff',fontWeight:'bold',color:'#000000',margin: '25px 25px 25px 67px',borderRadius:'12px' }}>\r\n            {\"Combo\"}\r\n            </Button>\r\n            <Button id=\"Foody\" class=\"btn btn-light text-danger\" \r\n            variant=\"primary\" onClick={ChangeEffective}\r\n            style={{ width:'150px', height:'52px',backgroundColor:'#ffffff', \r\n            borderColor:'#ffffff',fontWeight:'bold',color:'#000000',margin: '15px 20px',borderRadius:'12px' }}>\r\n            {\"Đồ ăn\"}\r\n            </Button>\r\n            <Button id=\"Drink\" class=\"btn btn-light text-danger\" \r\n            variant=\"primary\" onClick={ChangeEffective}\r\n            style={{ width:'150px', height:'52px',backgroundColor:'#ffffff', \r\n            borderColor:'#ffffff',fontWeight:'bold',color:'#000000',margin: '15px 20px',borderRadius:'12px' }}>\r\n            {\"Thức uống\"}\r\n            </Button>\r\n            <Button id=\"Appetizer\" class=\"btn btn-light text-danger\" \r\n            variant=\"primary\" onClick={ChangeEffective}\r\n            style={{ width:'150px', height:'52px',backgroundColor:'#ffffff', \r\n            borderColor:'#ffffff',fontWeight:'bold',color:'#000000',margin: '15px 20px',borderRadius:'12px' }}>\r\n            {\"Khai vị\"}\r\n            </Button>\r\n            <Button id=\"Dessert\" class=\"btn btn-light text-danger\" \r\n            variant=\"primary\" onClick={ChangeEffective}\r\n            style={{ width:'150px', height:'52px',backgroundColor:'#ffffff', \r\n            borderColor:'#ffffff',fontWeight:'bold',color:'#000000',margin: '15px 20px',borderRadius:'12px' }}>\r\n            {\"Tráng miệng\"}\r\n            </Button>\r\n        </div>\r\n      );\r\n}\r\n\r\n\r\nexport default FoodTypeList;\r\n","import { Nav, Navbar, Form, FormControl, Col } from 'react-bootstrap'\r\nimport './Appbar.css'\r\nimport logo from './logo.png'\r\nimport {removeVI, DefaultOption} from 'jsrmvi';\r\n\r\n\r\nimport React from \"react\";\r\nimport RenderElement from '../Menu/RenderElement'\r\nimport JSONDATA from '../Menu/MOCK_DATA'\r\nimport { useState, useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport FoodTypeList from '../Menu/FoodTypeList'\r\nimport FoodInMenu from '../Menu/FoodInMenu'\r\n// import Filter from './Filter';\r\n\r\n// Combo: 12, Foody: 13, Drink: 15, Appetizer: 14, Dessert: 16\r\n\r\n\r\nconst axios = require('axios')\r\nvar arrAll = []\r\n\r\nexport default function Appbar({nCartItem}) {\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [data, setData] = useState(arrAll)\r\n  var filtered;\r\n  var pagingSearch;\r\n  var pageNumber = 1\r\n\r\n\r\n  useEffect(() => {\r\n    axios.get('/food')\r\n    .then( (res) => {\r\n      for(var i = 0;i<res.data.length;++i){\r\n        var temp = {\r\n          food_name: res.data[i].name,\r\n          price: res.data[i].price,\r\n          img: res.data[i].imageUrls[0],\r\n          id: res.data[i]._id,\r\n          discount: res.data[i].discount\r\n        }\r\n        arrAll.push(temp)\r\n      }\r\n    })\r\n    }, [])\r\n\r\n\r\n  function ChangePage(index){\r\n    if(index > Math.ceil(filtered.length / 10) || index < 1) return;\r\n    pageNumber = index\r\n    var menu = []\r\n    for(var i = (index-1)*10 ; i < 10 + (index-1)*10 ; i++){\r\n      if(i >= filtered.length) {\r\n        if(i%10 <=5) {\r\n          // document.getElementById('PaginationSearch').style.bottom = '30%'\r\n          // document.getElementById('MenuFirst').style.height = '500px'\r\n          break;\r\n        }\r\n      }\r\n      menu[i] = <FoodInMenu name={data[i].food_name} price={data[i].price} image={data[i].img} id={data[i].id} />\r\n      // document.getElementById('PaginationSearch').style.bottom = '-34%'\r\n      // document.getElementById('MenuFirst').style.height = '900px'\r\n    }\r\n    ReactDOM.render(menu,document.getElementById('MenuFirst'))\r\n    window.scrollTo(0, 0)\r\n  }\r\n  function Page(index) {\r\n    pageNumber = index\r\n    var menu = []\r\n    for(var i = (index-1)*10 ; i < 10 + (index-1)*10 ; i++){\r\n      if(i >= filtered.length) {\r\n        if(i%10 <=5) {\r\n          // document.getElementById('PaginationSearch').style.bottom = '30%'\r\n          // document.getElementById('MenuFirst').style.height = '500px'\r\n          break;\r\n        }\r\n      }\r\n      menu[i] = <FoodInMenu name={data[i].food_name} price={data[i].price} image={data[i].img} id={data[i].id}/>\r\n      // document.getElementById('PaginationSearch').style.bottom = '-34%'\r\n      // document.getElementById('MenuFirst').style.height = '900px'\r\n    }\r\n     \r\n    ReactDOM.render(menu,document.getElementById('MenuFirst'))\r\n    window.scrollTo(0, 0)\r\n  }\r\n\r\n  function HandleSearch(searchKey) {\r\n    if (searchKey === \"\") {\r\n      window.location.href = \"/menu\"\r\n    }\r\n    else {\r\n    filtered = arrAll.filter((val)=>{\r\n      if (removeVI(val.food_name.toLowerCase()).includes(removeVI(searchKey.toLowerCase()))){\r\n          return val\r\n      }\r\n      }).map((val,key) => {        \r\n      return <div key ={key} style={{display:'inline-block',marginBottom:'2.3%',marginTop:'3%'}}>\r\n      <RenderElement val={val}/>\r\n      </div>  \r\n      })\r\n    pagingSearch= <nav aria-label=\"Page navigation example\" >\r\n    <ul class=\"pagination justify-content-center pagination-lg\">\r\n    <li class=\"page-item\">\r\n    <button class=\"page-link\" aria-label=\"Previous\" onClick={() => ChangePage(pageNumber-1)}>\r\n        <span aria-hidden=\"true\">&laquo;</span>\r\n      </button>\r\n    </li>\r\n      {\r\n      Array.from({length: Math.ceil(filtered.length / 10)}, (_, i) => i + 1).map((index) => \r\n      {return <li class=\"page-item\"><button class=\"page-link\" onClick={() => Page(index)}>{index}</button></li>})\r\n      }\r\n      <li class=\"page-item\">\r\n      <button class=\"page-link\" aria-label=\"Next\" onClick={() => ChangePage(pageNumber+1)}>\r\n        <span aria-hidden=\"true\">&raquo;</span>\r\n      </button>\r\n    </li>\r\n    </ul>\r\n  </nav>\r\n    ReactDOM.render(filtered.slice(0,10),document.getElementById('MenuFirst'))  \r\n    ReactDOM.render(pagingSearch,document.getElementById('PaginationSearch')) // edited\r\n  }\r\n\r\n  function MenuInGen({arr}) {\r\n    \r\n  const temp = arrAll.slice()\r\n  const [filterNameInit,setFilterNameInit] = useState('No filter here...'.slice())\r\n  const [data, setData] = useState(temp)\r\n\r\n  function FilterBar() {\r\n    \r\n  function FilterFunction(){\r\n    setFilterNameInit('Sort by increasing price')\r\n    setData(data.slice().sort((a,b) => a.price - b.price))\r\n    ReactDOM.render(<MenuInGen arr={data.sort((a,b) => a.price - b.price)}/>, document.getElementById('MenuFirst'))\r\n  }\r\n  \r\n  function FilterFunctionDesc(){\r\n   setFilterNameInit('Sort by decreasing price')\r\n    setData(data.slice().sort((a,b) => -a.price + b.price))\r\n    ReactDOM.render(<MenuInGen arr={data.sort((a,b) => -a.price + b.price)}/>, document.getElementById('MenuFirst'))\r\n  }\r\n\r\n  function NoFilterFunction(){\r\n   setFilterNameInit('No filter here...')\r\n    setData(arrAll.slice())\r\n    ReactDOM.render(<MenuInGen arr={arrAll.slice()}/>, document.getElementById('MenuFirst'))\r\n  }\r\n    \r\n\r\n\r\n    return (\r\n      <div class=\"dropdown\" style={{position:'absolute', right:'62px',top:'90px'}}>\r\n    <button class=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\"\r\n    style={{backgroundColor: '#F0A12A',width:'200px',height:'52px'}}>\r\n      {filterNameInit}\r\n    </button>\r\n    <ul class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\" >\r\n      <li><button type=\"button\" class=\"btn btn-outline-primary dropdown-item\"  onClick={FilterFunction}>Sort by increasing price</button></li>\r\n      <li><button type=\"button\" class=\"btn btn-outline-primary dropdown-item\" onClick={FilterFunctionDesc}>Sort by decreasing price</button></li>\r\n      <li><button type=\"button\" class=\"btn btn-outline-primary dropdown-item\" onClick={NoFilterFunction}>No filter here...</button></li>\r\n    </ul>\r\n  </div>\r\n    );\r\n  }\r\n\r\n  \r\n    return (\r\n      <div >\r\n        <div>\r\n          <FilterBar />\r\n        </div>\r\n        <div style={{ width: '100%' }}>\r\n          <FoodTypeList />\r\n        </div>\r\n        <div id=\"ElementInMenu\" style={{width:'100%',marginLeft:'50px'}}>\r\n            {\r\n              arr.map((val) => {\r\n              return <FoodInMenu name={val.food_name} price={val.price} image={val.img} id={val.id}/>\r\n            })\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  }\r\n\r\n  const LogInIcon = () => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"30\" fill=\"#000000\" class=\"bi bi-person-circle\" viewBox=\"0 0 16 16\">\r\n      <path d=\"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z\" />\r\n      <path fill-rule=\"evenodd\" d=\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z\" />\r\n    </svg>\r\n  )\r\n\r\n  const LogOutIcon = () => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"30\" fill=\"#000000\" class=\"bi bi-box-arrow-right\" viewBox=\"0 0 16 16\">\r\n      <path fill-rule=\"evenodd\" d=\"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z\" />\r\n      <path fill-rule=\"evenodd\" d=\"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z\" />\r\n    </svg>\r\n  )\r\n\r\n  function DisplayLog() {\r\n    if (localStorage.getItem(\"isAuthenticated\")) { \r\n      return (\r\n      <Nav.Link onClick={() => {\r\n        localStorage.removeItem(\"isAuthenticated\")\r\n      }} href='/login'>\r\n        <LogOutIcon />\r\n      </Nav.Link>\r\n      )\r\n    }\r\n    else { \r\n      return (\r\n      <Nav.Link href='/login'>\r\n        <LogInIcon />\r\n      </Nav.Link>\r\n      )\r\n    } \r\n  }\r\n\r\n    return (\r\n      <div class=\"py-0 color-appbar\">\r\n        <Navbar expand=\"lg\" sticky=\"top\">\r\n          <Navbar.Brand href='/' class=\"text-primary\">\r\n              <img src={logo} width=\"30\" alt=\"logo image\"/>\r\n                Nhi's House          \r\n          </Navbar.Brand>\r\n          <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n          <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n            <Nav className=\"me-auto\">\r\n                <Nav.Link href='/'><span className=\"navItem\">Trang chủ</span></Nav.Link>\r\n                <Nav.Link href='/menu'><span className=\"navItem\">Thực đơn</span></Nav.Link>\r\n                <Nav.Link href='/manage-order'><span className=\"navItem\">Đơn hàng</span></Nav.Link>\r\n                <Nav.Link href='#footer'><span className=\"navItem\">Giới thiệu</span></Nav.Link>\r\n            </Nav>\r\n          <Form className=\"d-flex\">\r\n            <Col xs=\"auto\">\r\n            <FormControl\r\n              type=\"search\"\r\n              placeholder=\"Tìm kiếm món ăn, combo...\"\r\n              className=\"me-5 search-appbar\"\r\n              aria-label=\"Search\"\r\n              size=\"sm\"\r\n              onKeyPress={event => {\r\n              if(event.key == \"Enter\") \r\n              {\r\n                HandleSearch(event.target.value)\r\n                event.preventDefault()\r\n              }\r\n              setSearchTerm(event.target.value)\r\n              }}\r\n            />\r\n            </Col>\r\n          </Form>\r\n          <Nav>\r\n            <Nav.Link href='/my-cart'>\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"30\" fill=\"#000000\" class=\"bi bi-cart\" viewBox=\"0 0 16 16\">\r\n              <path d=\"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z\"/>\r\n              </svg>\r\n              <sup><span class=\"badge rounded-pill bg-danger\">{nCartItem}</span></sup>\r\n              <span class=\"visually-hidden\">Giỏ hàng</span>\r\n            </Nav.Link>\r\n            <DisplayLog />\r\n          </Nav>\r\n          {/* <ul class=\"navbar-nav flex-row flex-wrap ms-md-auto\">\r\n            <li class=\"nav-item col-6 col-md-auto\">\r\n              <a href=\"#cart\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" fill=\"#000000\" class=\"bi bi-cart\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z\"/>\r\n              </svg>\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item col-6 col-md-auto\">\r\n              <a href=\"#profile\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30%\" height=\"30%\" fill=\"#000000\" class=\"bi bi-person-circle\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z\"/>\r\n                <path fill-rule=\"evenodd\" d=\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z\"/>\r\n              </svg>\r\n              </a>\r\n            </li>\r\n          </ul> */}\r\n          </ Navbar.Collapse>\r\n        </Navbar>\r\n\r\n        {/* <div id = \"pagingCheck\" style={{position:'absolute',bottom:'-38%',marginLeft:'42%',marginRight:'auto'}}>\r\n\r\n        </div> */}\r\n        </div>\r\n    )\r\n        \r\n  }\r\n        \r\n","import { Col, ListGroup, ListGroupItem, Badge, Row } from \"react-bootstrap\"\r\n\r\n\r\nexport default function TotalPayment({fooUnitPrice, discount, quantity, orderOptionsAnswer=[]}) {\r\n\r\n    return (\r\n        <ListGroup as=\"ul\">\r\n            <ListGroupItem as=\"li\" active>Tổng thanh toán</ListGroupItem>\r\n            <ListGroupItem as=\"li\">\r\n                <Row>\r\n                    <Col>Tạm tính</Col>\r\n                    <Col>\r\n                        <h6 className=\"text-end\">{Intl.NumberFormat().format(fooUnitPrice * discount) + \"đ x \" + quantity}</h6>\r\n                    </Col>\r\n                </Row>\r\n            </ListGroupItem>\r\n\r\n            {orderOptionsAnswer.map((item) => {\r\n                return(\r\n                    <>\r\n                    <ListGroupItem as=\"li\">\r\n                        <Row>\r\n                            <Col>{item.title}</Col>\r\n                            <Col>\r\n                                <h6 className=\"text-end\">{Intl.NumberFormat().format(item.price.reduce((r,a,i) => {return r + a * item.answer[i]},0))}đ</h6>\r\n                            </Col>\r\n                        </Row>\r\n                    </ListGroupItem>\r\n                    </>\r\n                )\r\n            })}\r\n            \r\n            <ListGroupItem as=\"li\">\r\n                <Row>\r\n                    <Col><h5>Tổng</h5></Col>\r\n                    <Col><h5 className=\"text-end\"><Badge variant=\"primary\" pill>{\r\n                        Intl.NumberFormat().format(\r\n                        fooUnitPrice * quantity * discount +\r\n                        orderOptionsAnswer.map( item => {\r\n                            return item.price.reduce((r,a,i) => {return r + a * item.answer[i]},0);\r\n                        }).reduce((pre, cur) => pre + cur, 0))\r\n                        \r\n                    }đ</Badge></h5></Col>\r\n                </Row>\r\n            </ListGroupItem>\r\n        </ListGroup>\r\n    )\r\n}","import { useState, useEffect } from \"react\";\r\n\r\nexport function QuantitySelector({initQuantity = 1, quantity, setQuantity, callbacks = []}) {\r\n    const LOWER_BOUND = 0;\r\n    const UPPER_BOUND = 99;\r\n    // const [quantity, setQuantity] = useState(initQuantity);\r\n    \r\n\r\n    function decrement() {\r\n        if(quantity > LOWER_BOUND + 1) {\r\n            updateQuantity(quantity - 1);\r\n        }\r\n    }\r\n\r\n    function increment() {\r\n        updateQuantity(quantity + 1)\r\n    }\r\n    //\r\n    function quantityFieldOnChange(event) {\r\n        let value = Number(event.target.value);\r\n        if (!isNaN(value)) {\r\n            updateQuantity(value);\r\n        }\r\n        else {\r\n            updateQuantity(1);\r\n        }\r\n    }\r\n\r\n    function quantityFieldOutFoucus() {\r\n        if(quantity === 0) {\r\n            updateQuantity(1);\r\n        }\r\n    }\r\n    function updateQuantity(newQuantity) {\r\n        setQuantity(newQuantity);\r\n        raiseEvent(newQuantity);\r\n    }\r\n\r\n    function raiseEvent(newQuantity) {\r\n        callbacks.map((callback) => {\r\n            callback(newQuantity);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(quantity < LOWER_BOUND) {\r\n            setQuantity(LOWER_BOUND);\r\n        }\r\n        else if(quantity > UPPER_BOUND) {\r\n            setQuantity(UPPER_BOUND);\r\n        }\r\n    }, [quantity]);\r\n\r\n    return(\r\n        <div class=\"row d-flex align-items-center justify-content-center\">\r\n            <div class=\"col d-flex justify-content-center\" onClick={decrement}>\r\n                <button class=\"btn bnt-light p-0 shadow-none\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" fill=\"currentColor\" class=\"bi bi-dash\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z\"/>\r\n                    </svg>\r\n                </button>\r\n            </div>\r\n            <div class=\"col p-0\">\r\n                <input type=\"text\" class=\"form-control shadow-none input-focus p-1 fs- text-center border border-secondary\" value={quantity === 0 ? \"\" : quantity} \r\n                    onBlur={quantityFieldOutFoucus}\r\n                    onChange={quantityFieldOnChange}/>\r\n            </div>\r\n            <div class=\"col d-flex justify-content-center\" onClick={increment}>\r\n                <button class=\"btn button-light p-0 shadow-none\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" fill=\"currentColor\" class=\"bi bi-plus\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"/>\r\n                    </svg>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { useState} from \"react\";\r\n\r\nexport function OrderOptionItem({orderOptionItem, callbacks}) {\r\n    const [checkedOptions, setCheckedOptions] = useState(orderOptionItem.answer);\r\n\r\n    function onCheck(idx) {\r\n        let new_checkOptions;\r\n        if(orderOptionItem.isMultiSelect) {\r\n            new_checkOptions = checkedOptions.map((val) => {return val})\r\n        }\r\n        else {\r\n            new_checkOptions = Array(checkedOptions.length).fill(false);\r\n        }\r\n        new_checkOptions[idx] = !new_checkOptions[idx];\r\n        if(JSON.stringify(checkedOptions) !== JSON.stringify(new_checkOptions)) {\r\n            setCheckedOptions(new_checkOptions);\r\n            raiseEvent(new_checkOptions);\r\n            // orderOptionItem.answer = new_checkOptions;\r\n        }\r\n    }\r\n\r\n    function raiseEvent(newAnswer) {\r\n        callbacks.map((callback) => {\r\n            callback(newAnswer)\r\n        });\r\n    }\r\n    return(\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <h5 class=\"px-0\">{orderOptionItem.title}</h5>\r\n            </div>\r\n            <div class=\"row\">\r\n                {orderOptionItem.options.map((option, idx) => {\r\n                    return(\r\n                        <div class=\"form-check\">\r\n                            <input class=\"form-check-input\" type=\"checkbox\"  name={orderOptionItem.title} id={option} value={option} checked={checkedOptions[idx]} onChange={() => onCheck(idx)}/>\r\n                            <div class=\"row\">\r\n                                <label class=\"form-check-label col\" for={option}>\r\n                                    {option}\r\n                                </label>\r\n                                <label class=\"form-check-label col\" for={option}>\r\n                                   + {Intl.NumberFormat().format(orderOptionItem.price[idx])} đ\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import TotalPayment from \"./TotalPayment\"\r\nimport { QuantitySelector } from \"../FoodInfo/QuantitySelector\"\r\nimport { Container, Col, Row, Figure } from 'react-bootstrap'\r\nimport { OrderOptionItem } from \"../FoodInfo/OrderOptionItem\"\r\nimport { useState, useEffect } from \"react\"\r\nimport { useParams } from \"react-router\"\r\nimport axios from \"axios\"\r\n\r\nconst DEFAULT = {\r\n    id: 1234,\r\n    foodName: \"Cánh gà xóc tỏi\",\r\n    unitPrice: 95000,\r\n    quantity: 1,\r\n    image: \"https://vuacua.vn/storage/media/p269c1CWENCt0RgJKYqFAlsJknm8XiIGdjpYgqks.jpeg\",\r\n    orderOptions: [\r\n        {\r\n            title: \"Chọn nước\",\r\n            options: [\"Pepsi\", \"Fanta\", \"Sprite\", \"Trà đào\"],\r\n            price: [0, 0, 0, 10000],\r\n            isMultiSelect: false,\r\n            answer:  [true, false, false, false]\r\n        },\r\n\r\n        {\r\n            title: \"Cay/Không cay\",\r\n            options: [\"Cay\", \"Không cay\"],\r\n            price: [0, 0],\r\n            isMultiSelect: false,\r\n            answer: [true, false]\r\n        },\r\n\r\n        {\r\n            title: \"Chọn món thêm\",\r\n            options: [\"Salad\", \"Cà chua\", \"Súp bí đỏ\", \"Sốt\"],\r\n            price: [5000, 10000, 15000, 10000],\r\n            isMultiSelect: true,\r\n            answer: [false, false, false, false],\r\n        }\r\n    ]\r\n}\r\n// function calOrderOptionPrice(order) {\r\n//     let orderOptionPrice = 0;\r\n//     order.orderOptions.forEach( orderOption => {\r\n//         orderOptionPrice += orderOption.price.reduce((r,a,i) => {return r + a * orderOption.answer[i]},0);\r\n//     })\r\n// }\r\n\r\nexport default function CartInfo() {\r\n    const {id: cartItemId} = useParams();\r\n\r\n    const CART_STORAGE_NAME = \"cart\";\r\n    var cart = JSON.parse(localStorage.getItem(CART_STORAGE_NAME));\r\n\r\n    const [quantity, setQuantity] = useState(0);\r\n    const [orderOptionsAnswer, setOrderOptionsAnswer] = useState([]);\r\n    const [food, setFood] = useState(null);\r\n    const [cartItem, setCartItem] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const cartItemOffset = cart.findIndex(item => item.offset == cartItemId)\r\n        if(cart && cartItemOffset >= 0) {\r\n            setCartItem(cart[cartItemOffset]);\r\n            setQuantity(cart[cartItemOffset].quantity);\r\n            setOrderOptionsAnswer(cart[cartItemOffset].orderOptions);\r\n      \r\n            axios.get(\"/food/\" + cart[cartItemOffset].foodId)\r\n            .then(res => {\r\n                console.log(\"Get success\")\r\n                console.log(cart[cartItemOffset]);\r\n                setFood(res.data);\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if(cartItem) {\r\n            const cartItemOffset = cart.findIndex(item => item.offset == cartItemId);\r\n            let newCart = JSON.parse(JSON.stringify(cart));\r\n            newCart[cartItemOffset].quantity = quantity;\r\n            newCart[cartItemOffset].orderOptions = orderOptionsAnswer;\r\n            newCart[cartItemOffset].optionSum.str = orderOptionsAnswer.map((item) => {\r\n                return item.title + \": \" + item.options.filter((ele, idx) => item.answer[idx]).\r\n                    map((option, idx) => {\r\n                        return option;\r\n                }).join(\", \")\r\n            }).join(\" / \");\r\n\r\n            newCart[cartItemOffset].optionSum.price = orderOptionsAnswer.map( item => {\r\n                return item.price.reduce((r,a,i) => {return r + a * item.answer[i]},0);\r\n            }).reduce((pre, cur) => pre + cur, 0);\r\n\r\n            localStorage.setItem(CART_STORAGE_NAME, JSON.stringify(newCart));\r\n        }\r\n    })\r\n\r\n    if(!cartItem || !food) {\r\n        return(\r\n             <Container>\r\n                 Cart Item does not exists.\r\n            </Container>\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <Container class=\"p-4\">\r\n            <Row>\r\n\r\n                <div class=\"col\">\r\n                    <h4>Thông tin chi tiết đơn hàng </h4>\r\n                </div>\r\n                <div class=\"col-auto\">\r\n                    <button type=\"button\" className=\"btn btn-secondary shadow-none\"\r\n                    onClick={() => window.location.href = \"/my-cart\"}>Trở lại giỏ hàng</button>\r\n                </div>\r\n            </Row>\r\n            <Row>\r\n                <Col xl={{span: 3, offset: 2}} lg={5} md={5}>\r\n                    <Row>\r\n                        <Figure.Image\r\n                            alt=\"FoodImg\"\r\n                            src={food.imageUrls[0]}\r\n                        />\r\n                    </Row>\r\n                    <Row>\r\n                        <TotalPayment\r\n                            fooUnitPrice={food.price}\r\n                            discount={parseFloat(food.discount) / 100}\r\n                            quantity={quantity}\r\n                            orderOptionsAnswer={orderOptionsAnswer} \r\n                        />\r\n                    </Row>\r\n                </Col>\r\n                <Col xl={{span: 4, offset: 1}} lg={{span: 6, offset: 1}} md={{span: 6, offset: 1}}>\r\n                    <Row>\r\n                        <a class=\"text-secondary fs-2\" href={\"/food-info/\" + food._id}>{food.name}</a>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col xl={4} lg={4} md={4} sm={4} xs={4}>Số lượng:</Col>\r\n                        <Col xl={8} lg={8} md={8} sm={8} xs={8}><QuantitySelector quantity={quantity} setQuantity={setQuantity}/></Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <ul>\r\n                            <li><hr class=\"border-top border-secondary\"/></li>\r\n                            {cartItem.orderOptions.map((orderOptionItem) => {\r\n                                return(\r\n                                    <>\r\n                                        <li>\r\n                                            <OrderOptionItem orderOptionItem={orderOptionItem} callbacks={[(newAnswer) => {\r\n                                                orderOptionItem.answer = newAnswer;\r\n                                                setOrderOptionsAnswer(JSON.parse(JSON.stringify(cartItem.orderOptions)));\r\n                                            }]}/>\r\n                                        </li>\r\n                                        <li><hr class=\"border-top border-secondary\"/></li>\r\n                                    </>\r\n                                )\r\n                            })}\r\n                        </ul>\r\n                    </Row>\r\n\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    )\r\n}","import { QuantitySelector } from \"./QuantitySelector\";\r\n\r\nexport function FoodDescription({food, quantity, setQuantity}) {\r\n\r\n    return(\r\n        <>\r\n            <div class=\"row text-start\">\r\n                <h1>{food.name}</h1>\r\n            </div>\r\n            <div class=\"text-primary text-start\">\r\n                <h4>\r\n                    <span class=\"badge rounded-pill bg-primary\">- {food.discount}</span>\r\n                </h4>\r\n                <h4 class=\"text-decoration-line-through text-secondary\">{ Intl.NumberFormat().format(food.unitPrice) + \" VNĐ\" }</h4>\r\n                <h3>{ Intl.NumberFormat().format(food.unitPrice * (1 - parseFloat(food.discount) / 100)) + \" VNĐ\" }</h3>\r\n            </div>\r\n            <div class=\"row text-start fs-4 my-3\">\r\n                <h3>Thông tin chi tiết:</h3>\r\n                <p>{food.description}</p>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n                <div class=\"col col-md-6 col-lg-4 p-2 border\">\r\n                    <QuantitySelector quantity={quantity} setQuantity={setQuantity}/>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport './ImagesSlide.css';\r\n\r\n\r\nexport function ImagesSlide({imageData}) {\r\n    const N_BOTTOM_IMGS = 4;\r\n    const [mainImgIdx, setMainImgIdx] = useState(0);\r\n    const [bottomImgIdxs, setBottomImgIdxs] = useState([0, 1, 2, 3]);\r\n    if(bottomImgIdxs.length > imageData.length) {\r\n        setBottomImgIdxs(getInitBottomImgs());\r\n    }\r\n\r\n    function shiftRight() {\r\n        if(bottomImgIdxs[bottomImgIdxs.length - 1] < imageData.length - 1) {\r\n            setBottomImgIdxs(bottomImgIdxs.map((item) => {return item + 1;}));\r\n        }\r\n    }\r\n    function shiftLeft() {\r\n        if(bottomImgIdxs[0] > 0) {\r\n            setBottomImgIdxs(bottomImgIdxs.map((item) => {return item - 1;}));\r\n        }\r\n    }\r\n\r\n    function getInitBottomImgs() {\r\n        var imgIdxs = [];\r\n        console.log(imageData.length);\r\n        if(imageData.length < 4) {\r\n            console.log(\"heree\");\r\n            for(let i = 0; i < imageData.length; i++) {\r\n                imgIdxs.push(i);\r\n            }\r\n        }\r\n        console.log(imgIdxs);\r\n        return imgIdxs;\r\n    }\r\n\r\n\r\n    return(\r\n        <div>\r\n            <div class=\"row p-0\">\r\n                <img class=\"w-100 mainImg\" src={imageData[mainImgIdx]}/>\r\n            </div>\r\n            <div class=\"row\">\r\n                <div class=\"col-auto row align-items-center p-0 m-0\" onClick={() => {shiftLeft()}}>\r\n                    <a class=\"text-primary p-0 m-0\" href=\"#\" >\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" fill=\"currentColor\" class=\"bi bi-caret-left\" viewBox=\"0 0 16 16\">\r\n                            <path d=\"M10 12.796V3.204L4.519 8 10 12.796zm-.659.753-5.48-4.796a1 1 0 0 1 0-1.506l5.48-4.796A1 1 0 0 1 11 3.204v9.592a1 1 0 0 1-1.659.753z\"/>\r\n                        </svg>\r\n                    </a>\r\n                </div>\r\n                <div class=\"col row\">\r\n                    {bottomImgIdxs.map((idx) => {\r\n                    \r\n                        return (\r\n                            <div class={\"col-4 w-25 p-1\" + \" \" + (idx == mainImgIdx ? \"\" : \"opacity-50\")} onMouseEnter={() => {setMainImgIdx(idx)}}>\r\n                                <button class=\"btn button-light p-0 shadow-none\">\r\n                                    <img class=\"w-100 bottomImg\" src={imageData[idx]}/>\r\n                                </button>                            \r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n                <div class=\"col-auto row align-items-center p-0 m-0\" onClick={() => {shiftRight()}}>\r\n                    <a class=\"text-primary p-0 m-0\" href=\"#\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" fill=\"currentColor\" class=\"bi bi-caret-right\" viewBox=\"0 0 16 16\">\r\n                            <path d=\"M6 12.796V3.204L11.481 8 6 12.796zm.659.753 5.48-4.796a1 1 0 0 0 0-1.506L6.66 2.451C6.011 1.885 5 2.345 5 3.204v9.592a1 1 0 0 0 1.659.753z\"/>\r\n                        </svg>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { OrderOptionItem } from \"./OrderOptionItem\";\r\n\r\nexport function OrderOptionModal({food, setFood, quantity, setAdditionalPrice, totalPrice, onSubmit}) {\r\n    return(\r\n        <>\r\n            <button type=\"button\" class=\"btn btn-primary fs-4\" data-bs-toggle=\"modal\" data-bs-target=\"#orderOptionModal\">\r\n                Đặt món ngay\r\n            </button>\r\n            <div class=\"modal fade\" id=\"orderOptionModal\" tabindex=\"-1\" aria-labelledby=\"orderOptionModalLabel\" aria-hidden=\"true\">\r\n                <div class=\"modal-dialog modal-dialog-scrollable\">\r\n                    <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h5 class=\"modal-title\" id=\"orderOptionModalLabel\">Tùy chọn thêm</h5>\r\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <div class=\"container\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-2\">\r\n                                    <img src={food.images[0]} class=\"w-100\"></img>\r\n                                </div>\r\n                                <div class=\"col row\">\r\n                                    <span class=\"fw-bold\">{food.name}</span>\r\n                                    <span>Số lượng: {quantity}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <ul>\r\n                            <li><hr class=\"border-top border-secondary\"/></li>\r\n            \r\n                            {food.orderOptions.map((orderOption, idx) => {\r\n                                return(\r\n                                    <>\r\n                                        <li>\r\n                                            <OrderOptionItem orderOptionItem={orderOption} callbacks={[(newAnswer) => {\r\n                                                let orderOptionPrice = 0;\r\n                                                console.log(\"Update Additional Price\");\r\n                                                console.log(newAnswer);\r\n                                                food.orderOptions.forEach( (orderOption, _idx) => {\r\n                                                    if(_idx == idx) {\r\n                                                        console.log(orderOption.price);\r\n                                                        console.log(newAnswer);\r\n                                                        orderOptionPrice += orderOption.price.reduce((r,a,i) => {return r + a * newAnswer[i]},0);\r\n                                                    }\r\n                                                    else {\r\n                                                        console.log(orderOption.price);\r\n                                                        console.log(orderOption.answer);\r\n                                                        orderOptionPrice += orderOption.price.reduce((r,a,i) => {return r + a * orderOption.answer[i]},0); \r\n                                                    }\r\n                                                })\r\n                                                console.log(orderOptionPrice);\r\n                                                setAdditionalPrice(orderOptionPrice);\r\n                                                let newFood = JSON.parse(JSON.stringify(food));\r\n                                                newFood.orderOptions[idx].answer = newAnswer;\r\n             \r\n                                                setFood(newFood);\r\n                                            }]}/>\r\n                                        </li>\r\n                                        <li><hr class=\"border-top border-secondary\"/></li>\r\n                                    </>\r\n                                )\r\n                            })}\r\n                        </ul>\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Thoát</button>\r\n                        <button type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\" onClick={onSubmit}>Đặt món +{Intl.NumberFormat().format(totalPrice)} đ</button>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import http from \"../http-common\";\r\n\r\nclass FoodService {\r\n    getFoodById(id) {\r\n        return http.get(`/food/${id}`)\r\n    }\r\n    getOptions() {\r\n        return http.get('/options')\r\n    }\r\n    createFood(data) {\r\n        return http.post('/food/new', data)\r\n    }\r\n    updateFood(id, data) {\r\n        return http.put(`/food/${id}`, data)\r\n    }\r\n    deleteFood(id) {\r\n        return http.delete(`/food/${id}`)\r\n    }\r\n}\r\n\r\nexport default new FoodService()","import { Modal, Button, Form, InputGroup, FormControl } from \"react-bootstrap\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { PlusLg, Pencil, Backspace, Trash } from \"react-bootstrap-icons\"\r\nimport FoodService from \"../../services/food.service\"\r\nimport styled from \"styled-components\"\r\n\r\nexport default function EditPage() {\r\n    return <div className='d-flex mt-5'>\r\n        <FoodEditor mode='add' />\r\n        <FoodEditor mode='edit' id={'619229f1792fa260bd3a1004'} />\r\n    </div>\r\n}\r\n\r\nexport function FoodEditor(props) {\r\n    const [isShowEditor, setIsShowEditor] = useState(false)\r\n    const openEditor = () => {\r\n        setIsShowEditor(true)\r\n    }\r\n\r\n    return <div className='container px-0 my-2 mx-0'>\r\n        <Button className='btn-secondary d-flex align-items-center' onClick={openEditor}>\r\n            {props.mode === 'add' ? 'Thêm món ăn mới' : 'Chỉnh sửa'}\r\n            {props.mode === 'add' ? <PlusLg size={25} fontWeight={800} className='ms-1' /> : <Pencil size={16} className='ms-2' />}\r\n        </Button>\r\n        <Editor show={isShowEditor} onHide={() => setIsShowEditor(false)}\r\n            mode={props.mode} id={props.id} />\r\n    </div>\r\n}\r\n\r\nfunction Editor(props) {\r\n    const [basicInfo, setBasicInfo] = useState({\r\n        name: '',\r\n        price: '',\r\n        discount: '',\r\n        type: '',\r\n        description: ''\r\n    })\r\n\r\n    const [url, setUrl] = useState('')\r\n    const [options, setOptions] = useState([{\r\n        _id: '',\r\n        name: '',\r\n        items: [{\r\n            name: '',\r\n            price: ''\r\n        }],\r\n        isSelected: false\r\n    }])\r\n\r\n    const [imageUrls, setImageUrls] = useState([])\r\n    const deleteUrl = (value) => {\r\n        const urls = [...imageUrls]\r\n        let idx = urls.find(url => url === value)\r\n        urls.splice(idx, 1)\r\n        setImageUrls(urls)\r\n    }\r\n\r\n    const resetState = () => {\r\n        setBasicInfo({\r\n            name: '',\r\n            price: '',\r\n            discount: '',\r\n            type: '',\r\n            description: ''\r\n        })\r\n        setImageUrls([])\r\n    }\r\n    const addFood = () => {\r\n        const data = {\r\n            ...basicInfo,\r\n            imageUrls: imageUrls,\r\n            optionIds: options.filter(value => value.isSelected).map(value => value._id)\r\n        }\r\n        FoodService.createFood(data).then(response => {\r\n            alert(response.data.msg)\r\n        })\r\n        resetState()\r\n        props.onHide()\r\n    }\r\n    const editFood = () => {\r\n        const data = {\r\n            ...basicInfo,\r\n            imageUrls: imageUrls,\r\n            optionIds: options.filter(value => value.isSelected).map(value => value._id)\r\n        }\r\n        FoodService.updateFood(props.id, data).then(response => {\r\n            alert(response.data.msg)\r\n            window.location.reload()\r\n        })\r\n        props.onHide()\r\n    }\r\n    const deleteFood = () => {\r\n        let deleteConfirm = window.confirm(\"Are you sure about that ?\")\r\n        if(deleteConfirm) FoodService.deleteFood(props.id).then(response => {\r\n            alert(response.data.msg)\r\n        })\r\n        props.onHide()\r\n    }\r\n\r\n    const initAddMode = () => {\r\n        FoodService.getOptions().then(response => {\r\n            const data = response.data\r\n            setOptions(data.map(value => {\r\n                return {\r\n                    _id: value._id,\r\n                    name: value.name,\r\n                    items: value.items,\r\n                    isSelected: false\r\n                }\r\n            }))\r\n        }).catch(err => console.log({ msg: 'ERROR' }))\r\n    }\r\n\r\n    const initEditMode = () => {\r\n        FoodService.getFoodById(props.id).then(response => {\r\n            const foodData = response.data\r\n            if(foodData === '') return\r\n            setBasicInfo({\r\n                name: foodData.name,\r\n                price: foodData.price,\r\n                description: foodData.description,\r\n                discount: foodData.discount.slice(0, -1),\r\n                type: foodData.type\r\n            })\r\n            setImageUrls(foodData.imageUrls)\r\n            FoodService.getOptions().then(response => {\r\n                const optionData = response.data\r\n                const newOptions = optionData.map(value => {\r\n                    return {\r\n                        _id: value._id,\r\n                        name: value.name,\r\n                        items: value.items,\r\n                        isSelected: false\r\n                    }\r\n                })\r\n                newOptions.forEach(value => {\r\n                    if(foodData.optionIds.includes(value._id)) {\r\n                        value.isSelected = true\r\n                    } \r\n                })\r\n                console.log(newOptions)\r\n                setOptions(newOptions)\r\n            }).catch(err => console.log({ msg: 'ERROR' }))\r\n        })\r\n    }\r\n\r\n    const init = function () {\r\n        if (props.mode === 'add') initAddMode()\r\n        if (props.mode === 'edit') initEditMode()\r\n    }\r\n\r\n    useEffect(init, [])\r\n\r\n    return <Modal size='lg' centered {...props}>\r\n        <Modal.Header closeButton>\r\n            <Modal.Title>{props.mode === 'add' ? 'Thêm món ăn' : 'Chỉnh sửa món ăn'}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <div className='row'>\r\n                <Form.Group className='col-12 mb-1'>\r\n                    <Form.Label>Tên món ăn</Form.Label>\r\n                    <Form.Control placeholder={'Food\\'s name'} type='text' value={basicInfo.name}\r\n                        onChange={e => setBasicInfo({ ...basicInfo, name: e.target.value })} />\r\n                </Form.Group>\r\n                <Form.Group className='col-6 mb-1'>\r\n                    <Form.Label>Giá món ăn</Form.Label>\r\n                    <Form.Control placeholder={'Price'} type='number' value={basicInfo.price}\r\n                        onChange={e => setBasicInfo({ ...basicInfo, price: e.target.value })} />\r\n                </Form.Group>\r\n                <Form.Group className='col-6 mb-1'>\r\n                    <Form.Label>Mức giảm giá</Form.Label>\r\n                    <InputGroup>\r\n                        <FormControl type='number' max={100} min={1} value={basicInfo.discount}\r\n                            onChange={e => setBasicInfo({ ...basicInfo, discount: e.target.value })} defaultValue={0} />\r\n                        <InputGroup.Text>%</InputGroup.Text>\r\n                    </InputGroup>\r\n                </Form.Group>\r\n\r\n                <Form.Group className='col-12 mb-1'>\r\n                    <Form.Label>Link ảnh</Form.Label>\r\n                    <Form.Control placeholder={'List of image URLs'} type='url'\r\n                        value={url} onChange={e => setUrl(e.target.value)}\r\n                        onKeyUp={e => {\r\n                            if (e.code === 'Enter' || e.code === 'NumpadEnter') {\r\n                                const newUrls = [...imageUrls, url]\r\n                                setImageUrls(newUrls)\r\n                                setUrl('')\r\n                            }\r\n                        }} />\r\n                    <TextList list={imageUrls} deleteItem={deleteUrl} />\r\n                </Form.Group>\r\n\r\n                <hr />\r\n\r\n                <div className='col-12 mb-1'>\r\n                    <h4>Món ăn kèm</h4>\r\n                    {options.map((option, index) => {\r\n                        return <div>\r\n                            <div className='d-flex align-items-center justify-content-start'>\r\n                                <Form.Check className='me-2' checked={option.isSelected} onChange={() => {\r\n                                    const newOpt = [...options]\r\n                                    newOpt[index].isSelected = !option.isSelected\r\n                                    setOptions(newOpt)\r\n                                }} />\r\n                                <b className='text-primary fs-6'>{option.name}</b>\r\n                            </div>\r\n\r\n                            {option.items.map(item => {\r\n                                return <div className='row'>\r\n                                    <span className='col-8'>{item.name}</span>\r\n                                    <span className='col-3'>{item.price} vnđ</span>\r\n                                </div>\r\n                            })}\r\n                        </div>\r\n                    })}\r\n                </div>\r\n                <hr />\r\n\r\n                <Form.Group className='col-12 mb-1'>\r\n                    <Form.Label>Mô tả</Form.Label>\r\n                    <Form.Control placeholder={'Description'} as='textarea' value={basicInfo.description}\r\n                        onChange={e => setBasicInfo({ ...basicInfo, description: e.target.value })} />\r\n                </Form.Group>\r\n                <Form.Group className='col-12 mb-1'>\r\n                    <Form.Label>Loại</Form.Label>\r\n                    <Form.Select value={basicInfo.type}\r\n                        onChange={e => setBasicInfo({ ...basicInfo, type: e.target.value })} >\r\n                        <option value='Combo' selected>Combo</option>\r\n                        <option value='Foody'>Đồ ăn</option>\r\n                        <option value='Appetizer'>Khai vị</option>\r\n                        <option value='Drink'>Giải khát</option>\r\n                        <option value='Dessert'>Tráng miệng</option>\r\n                    </Form.Select>\r\n                </Form.Group>\r\n            </div>\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer className='justify-content-between'>\r\n            <Button className={'d-flex align-items-center btn-info'}\r\n                onClick={props.mode === 'add' ? props.onHide : deleteFood}>\r\n                {props.mode === 'add' ? 'Huỷ bỏ' : 'Xoá'}\r\n                {props.mode === 'add' ? <Backspace size={20} fontWeight={800} className='ms-1' />\r\n                    : <Trash size={16} fontWeight={800} className='ms-2' />}\r\n            </Button>\r\n            <Button className='d-flex align-items-center'\r\n                onClick={props.mode === 'add' ? addFood : editFood}>\r\n                {props.mode === 'add' ? 'Thêm' : 'Chỉnh sửa'}\r\n                {props.mode === 'add' ? <PlusLg size={20} fontWeight={800} className='ms-1' />\r\n                    : <Pencil size={16} fontWeight={800} className='ms-2' />}\r\n            </Button>\r\n        </Modal.Footer>\r\n    </Modal>\r\n}\r\n\r\nfunction TextList(props) {\r\n    return props.list.length !== 0 ? <TList>\r\n        {props.list.map(value => {\r\n            return <div className='d-flex justify-content-between align-items-center' key={value.slice(10, 40)}>\r\n                <span style={{ overflow: 'hidden', maxWidth: '89%' }}>{value}</span>\r\n                <Trash size={16} color='black' onClick={() => props.deleteItem(value)} />\r\n            </div>\r\n        })}\r\n    </TList> : <div className='p-2 mx-auto text-primary'>Empty List</div>\r\n}\r\n\r\nconst TList = styled.div`\r\n    border: 1px solid #ced4da;\r\n    margin-top: 5px;\r\n    border-radius: 0.25rem;\r\n    div {\r\n        padding: .5rem .75rem;\r\n        color: blue;\r\n        text-decoration: underline;\r\n        border-bottom: 1px solid #ced4da;\r\n    }\r\n    div:last-child {\r\n        border-bottom: none;\r\n        border-bottom-left-radius: 0.25rem;\r\n        border-bottom-right-radius: 0.25rem;\r\n    }\r\n`;","import { FoodDescription } from \"./FoodDescription\";\r\nimport { ImagesSlide } from \"./ImagesSlide\";\r\nimport { useState, useEffect } from \"react\";\r\n// import { OrderOptionItem } from \"./OrderOptionItem\";\r\nimport { OrderOptionModal } from \"./OrderOptionModal\";\r\nimport {ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport axios from \"axios\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport { useParams } from \"react-router\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { FoodEditor } from \"../staff/FoodEditor\";\r\n\r\nvar DEFAULT_FOOD = {\r\n    name: \"Cánh gà xóc tỏi\",\r\n    unitPrice: 95000,\r\n    description: \"Mỗi phần gồm 6 cái cánh giữa, là phần nhiều thịt và mềm nhất. Cháy tỏi giòn tan như snack, vị mặn ngọt vừa vặn phủ đều lên cánh gà chiên giòn là món khai vị vô cùng kích thích\",\r\n    images: [\r\n        \"https://vuacua.vn/storage/media/p269c1CWENCt0RgJKYqFAlsJknm8XiIGdjpYgqks.jpeg\",\r\n        \"https://vuacua.vn/storage/media/iPfA30ZgTpzyDuzoMHJBYIC3pbdwIJlcOAsC4DHQ.jpeg\",\r\n        \"https://vuacua.vn/storage/media/YE93ZWhvd8hKQZ8SoFPKCBn6cyzPPR5UCIUtaEeu.jpeg\",\r\n        \"https://vuacua.vn/storage/media/7atQojptTrQx1Zqz7LnOroTDBn8RXbVf8rQCeWEZ.jpeg\",\r\n        \"https://vuacua.vn/storage/media/31tpzKyd0wlgwC0cfrQJ6bsUS72uNabwRqqJSnx0.jpeg\",\r\n        \"https://vuacua.vn/storage/media/EV0k9gZZjYCcxq1KZlLMaYxKi0GDSJOG45qfyIrR.jpeg\",\r\n        \"https://vuacua.vn/storage/media/JzAPf1tpgEt6jSEvWqGt4fiWjRQqfesSXT5CUgP3.jpeg\",\r\n        \"https://vuacua.vn/storage/media/4URBXmwIR2f2foAQjmCK9goo8ZHa4e9o8irdGB10.png\",\r\n        \"https://vuacua.vn/storage/media/GkuRArvrbDfL5WLjFcSEkA04mXu7XqEPoLT1NAbo.png\"\r\n    ],\r\n    orderOptions: [\r\n        {\r\n            title: \"Chọn nước\",\r\n            options: [\"Pepsi\", \"Fanta\", \"Sprite\", \"Trà đào\"],\r\n            price: [0, 0, 0, 10000],\r\n            isMultiSelect: false,\r\n            answer:  [true, false, false, false]\r\n        },\r\n\r\n        {\r\n            title: \"Cay/Không cay\",\r\n            options: [\"Cay\", \"Không cay\"],\r\n            price: [0, 0],\r\n            isMultiSelect: false,\r\n            answer: [true, false]\r\n        },\r\n\r\n        {\r\n            title: \"Chọn món thêm\",\r\n            options: [\"Salad\", \"Cà chua\", \"Súp bí đỏ\", \"Sốt\"],\r\n            price: [5000, 10000, 15000, 10000],\r\n            isMultiSelect: true,\r\n            answer: [false, false, false, false],\r\n        }\r\n    ]\r\n}\r\n\r\n\r\nexport default function FoodInfo({setNCartItem}) {\r\n    var history = useHistory();\r\n    const {foodId: FOOD_ID} = useParams();\r\n\r\n    const [food, setFood] = useState(null);\r\n    const [quantity, setQuantity] = useState(1);\r\n    const [totalPrice, setTotalPrice] = useState(0);\r\n    const [additionalPrice, setAdditionalPrice] = useState(0);\r\n\r\n    useEffect(() => {\r\n        if(food) {\r\n            let basePrice = food.unitPrice * quantity * (1 - parseFloat(food.discount) / 100);\r\n            let newTotalPrice = basePrice + additionalPrice;\r\n            if(newTotalPrice != totalPrice) {\r\n                setTotalPrice(newTotalPrice);\r\n            }\r\n        }\r\n    });\r\n\r\n    \r\n\r\n    function onSubmit() {\r\n        const CART_STORAGE_NAME = \"cart\";\r\n        let curCart = JSON.parse(localStorage.getItem(CART_STORAGE_NAME));\r\n        let cartItem = {};\r\n        cartItem.offset = uuidv4();\r\n        cartItem.orderOptions = food.orderOptions;\r\n        cartItem.foodId = FOOD_ID;\r\n        cartItem.quantity = quantity;\r\n\r\n        var optionSum = {}\r\n        optionSum.str = food.orderOptions.map((item) => {\r\n            return item.title + \": \" + item.options.filter((ele, idx) => item.answer[idx]).\r\n                map((option, idx) => {\r\n                    return option;\r\n            }).join(\", \")\r\n        }).join(\" / \");\r\n        optionSum.price = additionalPrice;\r\n\r\n        cartItem.optionSum = optionSum;\r\n\r\n        if(curCart) {\r\n            curCart.push(cartItem);\r\n            localStorage.setItem(CART_STORAGE_NAME , JSON.stringify(curCart));\r\n        }\r\n        else {\r\n            localStorage.setItem(CART_STORAGE_NAME , JSON.stringify([cartItem]));\r\n        }\r\n\r\n        setNCartItem(preVal => preVal + 1);\r\n        toast.success('Thêm vào giỏ hàng thành công', {\r\n            position: \"top-right\",\r\n            autoClose: 2000,\r\n            hideProgressBar: true,\r\n            closeOnClick: true,\r\n            pauseOnHover: false,\r\n            draggable: true,\r\n            progress: undefined,\r\n        });\r\n    }\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        axios.get(\"/food/detail/\" + FOOD_ID)\r\n        .then(res => {\r\n            setFood(res.data);\r\n        })\r\n        .catch(err => {\r\n            alert(\"Some errors occur in server. Cannot get food detail\");\r\n        })\r\n    }, [])\r\n\r\n\r\n\r\n    if(!food) {\r\n        return <div class=\"container\">Loading...</div>\r\n    }\r\n    return(\r\n        <div class=\"container p-4\">\r\n            <ToastContainer/>\r\n            <div class=\"row\">\r\n                <div class=\"col-md-6 col-lg-5\">\r\n                    <ImagesSlide imageData={food.images}/>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                    <div class=\"container\">\r\n                        { JSON.parse(localStorage.getItem(\"isAuthenticated\")) ?\r\n                            <FoodEditor mode=\"edit\" id={FOOD_ID}/>\r\n                        : \"\"\r\n                        }\r\n                        <FoodDescription food={food} quantity={quantity} setQuantity={setQuantity}/>\r\n                        <OrderOptionModal\r\n                            food={food}\r\n                            setFood={setFood}\r\n                            quantity={quantity}\r\n                            additionalPrice={additionalPrice}\r\n                            setAdditionalPrice={setAdditionalPrice}\r\n                            totalPrice={totalPrice}\r\n                            setTotalPrice={setTotalPrice}\r\n                            onSubmit={onSubmit}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}","import { React, useState } from 'react'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nconst axios = require('axios')\r\n\r\n\r\n\r\nexport default function Login() {\r\n    const [account, setAccount] = useState('')\r\n    const [pw, setPw] = useState('')\r\n\r\n\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        \r\n        axios.post('/login', {\r\n            \"account\" : account,\r\n            \"password\": pw\r\n        })\r\n            .then((response) => {\r\n                if (response.data == 'Accept') {\r\n                    localStorage.setItem('isAuthenticated', true)\r\n                    window.location.href = \"/manage-order\"\r\n                }\r\n                else {\r\n                    toast.error('Mật khẩu hoặc tài khoản không đúng', {\r\n                        position: \"top-right\",\r\n                        autoClose: 5000,\r\n                        hideProgressBar: true,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: true,\r\n                        draggable: true,\r\n                        progress: undefined,\r\n                    });\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"container-md container-xs container-xl text-center\" style={{ width: \"30%\", minWidth: \"350px\", paddingTop: \"200px\", paddingBottom: \"200px\"}} >\r\n                <form method='POST'>\r\n                    <p className=\"display-5 mb-5 fw-normal text-center \">Log in</p>\r\n                    <div className=\"form-floating mb-2\">\r\n                        <input type=\"account\" className=\"form-control\" id=\"floatingInput\" placeholder=\"name@example.com\"\r\n                            onChange={(event) => setAccount(event.target.value)} />\r\n                        <label for=\"floatingInput\">Account</label>\r\n                    </div>\r\n                    <div className=\"form-floating mb-2\">\r\n                        <input type=\"password\" className=\"form-control\" id=\"floatingPassword\" value={pw}\r\n                            placeholder=\"Password\" onChange={(event) => setPw(event.target.value)} />\r\n                        <label for=\"floatingPassword\">Password</label>\r\n                    </div>\r\n                    {/* {userAccountData.} */}\r\n                    <button className=\"w-50 btn btn-lg btn-primary float-end my-3\" type=\"submit\" onClick={handleSubmit}>Log in</button>\r\n                    <ToastContainer />\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}","\r\nexport default function Footer() {\r\n    return (\r\n        <footer class=\"footer mt-5 bg-white\" id=\"footer\">\r\n            <div className=\"grid wide footer-content mt-3\">\r\n                <div className=\"row d-flex justify-content-evenly\">\r\n                    {/* <div className=\"col-sm-6\"> */}\r\n                    <div className=\"col-sm-5\">\r\n                        <h5 class=\"footer-heading\">CÔNG TY TNHH THƯƠNG MẠI NHI'S HOUSE</h5>\r\n                        <ul class=\"footer_list\" style={{listStyle: 'none', paddingLeft: 0}}>\r\n                            <li class=\"footer_item\">\r\n                                <p>Hương vị độc đáo, phong cách phục vụ thân thiện, hết lòng vì khách hàng và bầu không khí nồng nhiệt, ấm cúng tại các nhà hàng là ba chìa khóa chính mở cánh cửa thành công của Nhi's House tại Việt Nam.\r\n                                    Nhi's House đã tạo nên một nét văn hóa ẩm thực mới và đóng góp to lớn vào sự phát triển của ngành công nghiệp thức ăn nhanh tại Việt Nam.</p>\r\n                            </li>\r\n                            <li class=\"footer_item\">\r\n                                <p>Địa chỉ: 100 Lê Lợi, phường Bến Thành, quận 1, TP. Hồ Chí Minh</p>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"col-sm-2\">\r\n                        <h5 class=\"footer-heading\">Về chúng tôi</h5>\r\n                        <ul class=\"footer_list\" style={{listStyle: 'none', paddingLeft: 0}}>\r\n                            <li class=\"footer_item\">\r\n                                <a className=\"text-muted\" href='./'>Giới thiệu</a>\r\n                            </li>\r\n                            <li class=\"footer_item\">\r\n                                <a className=\"text-muted\" href='./'>Tuyển dụng</a>\r\n                            </li>\r\n                            <li class=\"footer_item\">\r\n                                <a className=\"text-muted\" href='./'>Điều khoản</a>\r\n                            </li>\r\n                            <li class=\"footer_item\">\r\n                                <a className=\"text-muted\" href='./'>Chính sách bảo mật</a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"col-sm-2\">\r\n                        <h5 class=\"footer-heading\">Kết nối</h5>\r\n                        <ul class=\"footer_list\" style={{listStyle: 'none', paddingLeft: 0}}>\r\n                            <li class=\"footer_item\">\r\n                                <div href class=\"footer-item-link\" style={{textDecoration: 'none'}}>\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-facebook\" viewBox=\"0 0 16 16\">\r\n                                    <path d=\"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z\"/>\r\n                                    </svg> {' '}\r\n                                    <a className=\"text-muted\" href='./'>Facebook</a>\r\n                                </div>\r\n                            </li>\r\n                            <li class=\"footer_item\">\r\n                                <div href class=\"footer-item-link\" style={{textDecoration: 'none'}}>\r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-youtube\" viewBox=\"0 0 16 16\">\r\n                                <path d=\"M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31.4 31.4 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A99.788 99.788 0 0 1 7.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z\"/>\r\n                                </svg> {' '}\r\n                                <a className=\"text-muted\" href='./'>Youtube</a>\r\n                                </div>\r\n                            </li>\r\n                            <li class=\"footer_item\">\r\n                                <div href class=\"footer-item-link\" style={{textDecoration: 'none'}}>\r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-twitter\" viewBox=\"0 0 16 16\">\r\n                                <path d=\"M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z\"/>\r\n                                </svg> {' '}\r\n                                <a className=\"text-muted\" href='./'>Twitter</a>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"footer-bottom\">\r\n                <div className=\"grid wide\">\r\n                    <p style={{textAlign: 'center'}}>© Copyright by nhom 25</p>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    )   \r\n}","import React from \"react\";\r\nimport { useState, useEffect } from 'react';\r\nimport {Button} from 'react-bootstrap';\r\nimport FoodInMenu from './FoodInMenu.js';\r\nimport { FoodEditor } from \"../staff/FoodEditor.js\";\r\n\r\nconst axios = require('axios')\r\n\r\nvar arr = []\r\n\r\nvar Init = []\r\n\r\n\r\nfunction TaskSearch() {\r\n\r\n  const tmp = Init.slice()\r\n  const [temp, setTemp] = useState(tmp)\r\n  const [filterNameInit,setFilterNameInit] = useState('Không lựa chọn')\r\n  const [data, setData] = useState(tmp)\r\n  const [pageNumber,setPageNumber] = useState(1)\r\n  const [init,setInit] = useState(Init)\r\n  const [colorVar,setColorVar] = useState(['#F63C3C','#000000','#000000','#000000','#000000'])\r\n  const [borderRadiusVar,setBorderRadiusVar] = useState(['50px','12px','12px','12px','12px'])\r\n  const [borderColorVar,setBorderColor] = useState(['#F63C3C','#ffffff','#ffffff','#ffffff','#ffffff'])\r\n  const [boxShadowVar,setBoxShadowVar] = useState(['1px 1px #F63C3C','None','None','None','None'])\r\n\r\n  useEffect(() => {\r\n    axios.get('/food')\r\n    .then( (res) => {\r\n      arr = res.data\r\n      document.getElementById(\"Combo\").click()\r\n    })\r\n    }, [])\r\nfunction FoodTypeList() {\r\n  function ChangeEffective(e){\r\n      //setPageNumber(1)\r\n      var JSONDATA = []\r\n      JSONDATA.length = 0\r\n      for(var i=0;i < arr.length;i++) {\r\n        if (arr[i].type === e.target.id) {\r\n          var t = {\r\n            food_name: arr[i].name,\r\n            price: arr[i].price,\r\n            img: arr[i].imageUrls[0],\r\n            id: arr[i]._id,\r\n            discount: arr[i].discount\r\n          }\r\n          JSONDATA.push(t)\r\n        }\r\n    }\r\n\r\n\r\nconst array = ['Combo','Foody','Drink','Appetizer','Dessert']\r\n\r\n    setFilterNameInit('Không lựa chọn')\r\n    setTemp(JSONDATA.slice())\r\n    setData(JSONDATA.slice())\r\n    setInit(JSONDATA.slice())\r\n    switch(e.target.id) {\r\n      case 'Combo':\r\n        setColorVar(['#F63C3C','#000000','#000000','#000000','#000000'])\r\n        setBorderRadiusVar(['50px','12px','12px','12px','12px'])\r\n        setBorderColor(['#F63C3C','#ffffff','#ffffff','#ffffff','#ffffff'])\r\n        setBoxShadowVar(['1px 1px #F63C3C','None','None','None','None'])\r\n        break;\r\n      case 'Foody':\r\n        setColorVar(['#000000','#F63C3C','#000000','#000000','#000000'])\r\n        setBorderRadiusVar(['12px','50px','12px','12px','12px'])\r\n        setBorderColor(['#ffffff','#F63C3C','#ffffff','#ffffff','#ffffff'])\r\n        setBoxShadowVar(['None','1px 1px #F63C3C','None','None','None'])\r\n        break;\r\n      case 'Drink':\r\n        setColorVar(['#000000','#000000','#F63C3C','#000000','#000000'])\r\n        setBorderRadiusVar(['12px','12px','50px','12px','12px'])\r\n        setBorderColor(['#ffffff','#ffffff','#F63C3C','#ffffff','#ffffff'])\r\n        setBoxShadowVar(['None','None','1px 1px #F63C3C','None','None'])\r\n        break;\r\n      case 'Appetizer':\r\n        setColorVar(['#000000','#000000','#000000','#F63C3C','#000000'])\r\n        setBorderRadiusVar(['12px','12px','12px','50px','12px'])\r\n        setBorderColor(['#ffffff','#ffffff','#ffffff','#F63C3C','#ffffff'])\r\n        setBoxShadowVar(['None','None','None','1px 1px #F63C3C','None'])\r\n        break;\r\n      case 'Dessert':\r\n        setColorVar(['#000000','#000000','#000000','#000000','#F63C3C'])\r\n        setBorderRadiusVar(['12px','12px','12px','12px','50px'])\r\n        setBorderColor(['#ffffff','#ffffff','#ffffff','#ffffff','#F63C3C'])\r\n        setBoxShadowVar(['None','None','None','None','1px 1px #F63C3C'])\r\n        break;\r\n    }\r\n}\r\n\r\n\r\n\r\nreturn (\r\n    <div id=\"ButtonList\" class=\"row align-items-center\" style={{height:'100px'}}\r\n    >\r\n        <div class=\"col-md-2 col-sm-2 col-2\">\r\n        <Button id=\"Combo\" class=\"btn btn-light text-danger\"\r\n        variant=\"primary\" onClick={ChangeEffective}\r\n        style={{ width:'150px', height:'52px',backgroundColor:'#ffffff', boxShadow:boxShadowVar[0],\r\n        borderColor:borderColorVar[0],fontWeight:'bold',color:colorVar[0],borderRadius:borderRadiusVar[0] }}>\r\n        Combo\r\n        </Button></div>\r\n        <div class=\"col-md-2 col-sm-2 col-2\">\r\n        <Button id=\"Foody\" class=\"btn btn-light text-danger\"\r\n        variant=\"primary\" onClick={ChangeEffective}\r\n        style={{ width:'150px', height:'52px',backgroundColor:'#ffffff',boxShadow:boxShadowVar[1],\r\n        borderColor:borderColorVar[1],fontWeight:'bold',color:colorVar[1],borderRadius:borderRadiusVar[1] }}>\r\n        {\"Đồ Ăn\"}\r\n        </Button></div>\r\n        <div class=\"col-md-2 col-sm-2 col-2\">\r\n        <Button id=\"Drink\" class=\"btn btn-light text-danger\"\r\n        variant=\"primary\" onClick={ChangeEffective}\r\n        style={{ width:'150px', height:'52px',backgroundColor:'#ffffff',boxShadow:boxShadowVar[2],\r\n        borderColor:borderColorVar[2],fontWeight:'bold',color:colorVar[2],borderRadius:borderRadiusVar[2] }}>\r\n        {\"Thức Uống\"}\r\n        </Button></div>\r\n        <div class=\"col-md-2 col-sm-2 col-2\">\r\n        <Button id=\"Appetizer\" class=\"btn btn-light text-danger\"\r\n        variant=\"primary\" onClick={ChangeEffective}\r\n        style={{ width:'150px', height:'52px',backgroundColor:'#ffffff',boxShadow:boxShadowVar[3],\r\n        borderColor:borderColorVar[3],fontWeight:'bold',color:colorVar[3],borderRadius: borderRadiusVar[3] }}>\r\n        {\"Khai Vị\"}\r\n        </Button></div>\r\n        <div class=\"col-md-2 col-sm-2 col-2\">\r\n        <Button id=\"Dessert\" class=\"btn btn-light text-danger\"\r\n        variant=\"primary\" onClick={ChangeEffective}\r\n        style={{ width:'150px', height:'52px',backgroundColor:'#ffffff',boxShadow:boxShadowVar[4],\r\n        borderColor:borderColorVar[4],fontWeight:'bold',color:colorVar[4],borderRadius:borderRadiusVar[4] }}>\r\n        {\"Tráng Miệng\"}\r\n        </Button></div>\r\n        <div class=\"col-md-2 col-sm-4 col-4\">\r\n        <FilterBar />\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n  function MenuInGen({arr}) {\r\n    return (\r\n        <div>\r\n        <div style={{width:'100%'}}>\r\n            <FoodTypeList />\r\n        </div>\r\n        { JSON.parse(localStorage.getItem(\"isAuthenticated\")) ?\r\n        <FoodEditor mode=\"add\"/>\r\n        : \"\"\r\n        }\r\n        <div style={{width:'100%'}}>\r\n            {\r\n               arr.slice(0,10).map((val) => {\r\n               return <FoodInMenu name={val.food_name} price={val.price} image={val.img} id={val.id} discount={val.discount}/>\r\n             })\r\n             }\r\n        </div>\r\n        </div>\r\n    );\r\n  }\r\n\r\n  function FilterFunction(){\r\n    setPageNumber(1)\r\n    setFilterNameInit('Giá từ thấp đến cao')\r\n    setTemp(temp.sort((a,b) => a.price - b.price))\r\n    setData(temp)\r\n  }\r\n\r\n  function FilterFunctionDesc(){\r\n    setPageNumber(1)\r\n    setFilterNameInit('Giá từ cao đến thấp')\r\n    setTemp(temp.sort((a,b) => -a.price + b.price))\r\n    setData(temp)\r\n  }\r\n\r\n  function NoFilterFunction(){\r\n    setPageNumber(1)\r\n    setFilterNameInit('Không lựa chọn')\r\n    setTemp(init.slice())\r\n    setData(init.slice())\r\n  }\r\n\r\n  function FilterBar() {\r\n    return (\r\n      // style={{position:'absolute', right:'62px',top:'90px'}}\r\n      <div class=\"dropdown\" >\r\n    <button class=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\"\r\n    style={{backgroundColor: 'rgb(246, 60, 60)',width:'200px',height:'52px'}}>\r\n      {filterNameInit}\r\n    </button>\r\n    <ul class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\" >\r\n      <li><button type=\"button\" class=\"btn btn-outline-primary dropdown-item\" style={{width:'200px'}} onClick={FilterFunction}>Giá từ thấp đến cao</button></li>\r\n      <li><button type=\"button\" class=\"btn btn-outline-primary dropdown-item\" onClick={FilterFunctionDesc}>Giá từ cao đến thấp</button></li>\r\n      <li><button type=\"button\" class=\"btn btn-outline-primary dropdown-item\" onClick={NoFilterFunction}>Không lựa chọn</button></li>\r\n    </ul>\r\n  </div>\r\n    );\r\n  }\r\n\r\nfunction Page(index) {\r\n  setData(temp)\r\n  setPageNumber(index)\r\n  var menu = temp.slice((index-1)*10,10 + (index-1)*10)\r\n  setData(menu)\r\n\r\n  window.location.href = \"#\"\r\n}\r\n\r\nfunction ChangePage(index){\r\n  if(index > Math.ceil(temp.length / 10) || index < 1) return;\r\n  setData(temp)\r\n  setPageNumber(index)\r\n  var menu = temp.slice((index-1)*10,10 + (index-1)*10)\r\n  setData(menu)\r\n\r\n  window.location.href = \"#\"\r\n}\r\nreturn (\r\n  <div>\r\n  {/* style={{height:'950px',backgroundColor:'#efefef'}} */}\r\n   <div id=\"MenuFirst\" style={{margin:'auto'}}>\r\n   <MenuInGen arr={data}/>\r\n  </div>\r\n  <div id=\"PaginationSearch\" >\r\n  <nav  aria-label=\"Page navigation example\">\r\n  <ul class=\"pagination justify-content-center pagination-lg\">\r\n    <li class=\"page-item\">\r\n    <button class=\"page-link text-primary\" aria-label=\"Previous\" onClick={() => ChangePage(pageNumber-1)} style={{color:'rgb(246, 60, 60)'}}>\r\n        <span aria-hidden=\"true\">&laquo;</span>\r\n      </button>\r\n    </li>\r\n    {\r\n    Array.from({length: Math.ceil(temp.length / 10)}, (_, i) => i + 1).map((index) =>\r\n    {return <li class=\"page-item\"><button class=\"page-link text-primary\" onClick={() => Page(index)} style={{color:'rgb(246, 60, 60)'}}>{index}</button></li>})\r\n    }\r\n    {/* <li class=\"page-item\"><button class=\"page-link\" onClick={Page2}>2</button></li>\r\n    <li class=\"page-item\"><button class=\"page-link\" onClick={Page3}>3</button></li> */}\r\n    <li class=\"page-item\">\r\n      <button class=\"page-link text-primary\" aria-label=\"Next\" onClick={() => ChangePage(pageNumber+1)} style={{color:'rgb(246, 60, 60)'}}>\r\n        <span aria-hidden=\"true\">&raquo;</span>\r\n      </button>\r\n    </li>\r\n  </ul>\r\n</nav>\r\n  </div>\r\n  </div>\r\n);\r\n}\r\n\r\n\r\n\r\nexport default TaskSearch;","import React, { useState } from 'react';\r\n\r\nconst API_ROOT = 'https://api.mapbox.com';\r\nconst TOKEN = \"pk.eyJ1Ijoibmd1eWVuaHV1cGh1YzIwMDEiLCJhIjoiY2t3MHI0ZmFwMDEwODJ3cjBzMXlmNGFzciJ9.dZn-2W7vMLWGHFFiogj1ZQ\";\r\n\r\nexport const FROM = 'Tô Hiến Thành, quận 10';\r\nconst TO = 'Phường 12 quận 10 TP.HCM';\r\n\r\nfunction Log(msg) {\r\n  // return;\r\n  console.log(JSON.stringify(msg));\r\n}\r\n\r\n/**\r\n * \r\n *  Customize these functions\r\n */\r\n\r\nconst kilometersToFee = (km) => {\r\n  if (km < 3)\r\n    return 5000;\r\n  else {\r\n    const fee = 5000 + (Math.round(km) - 3) * 4000;\r\n    return Math.min(fee, 35000);\r\n  }\r\n}\r\n\r\nexport const calculateShipFee = async (from, to) => {\r\n  let res = {to: null, shipFee: null, distance: null, duration: null};\r\n  let fromLocation, toLocation;\r\n  try {\r\n    fromLocation = await textToLocation(from);\r\n    // Log(fromLocation);\r\n    toLocation = await textToLocation(to);\r\n    Log(toLocation);\r\n  } catch(error) { // Cannot find location\r\n    Log(error);\r\n    res.shipFee = NaN;\r\n    return res;\r\n  }\r\n  \r\n  let routes = [];\r\n  try {\r\n    routes = await locationsToRoutes(fromLocation, toLocation);\r\n  } catch(error) { // error when calling the API\r\n    Log(error);\r\n    res.shipFee = NaN;\r\n    return res;\r\n  }\r\n\r\n  if (routes.length > 0) {\r\n    const km = routes[0].distance / 1000;\r\n    const minutes = routes[0].duration / 60;\r\n    res.duration = minutes;\r\n    res.distance = km;\r\n    res.shipFee = kilometersToFee(km);\r\n    // Log(km);\r\n    return res;\r\n  } else { // no suitable route\r\n    const km = getDistanceFromLatLonInKm(\r\n      fromLocation.lat, fromLocation.lon, toLocation.lat, toLocation.lon\r\n    );\r\n    // Log(km);\r\n    res.distance = km;\r\n    res.shipFee = kilometersToFee(km);\r\n    return res;\r\n  }\r\n}\r\n\r\nexport default function Map() {\r\n  \r\n  const [shipInfo, setShipInfo] = useState('hello');\r\n\r\n  const handleSubmit = async () => {\r\n    const fee = await calculateShipFee(FROM, TO);\r\n    setShipInfo(fee);\r\n    // let info = \"\";\r\n    // info += (`From ${result.from} to ${result.to}:\\n`);\r\n    // info += (`Distance: ${result.distance}, Duration: ${result.duration}`);\r\n  }\r\n  \r\n  \r\n  return (\r\n    <div>\r\n      <button onClick={handleSubmit}>Submit</button>\r\n      <p>{JSON.stringify(shipInfo)}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\n/**\r\n * \r\n *  Util functions\r\n */\r\nconst textToLocation = async (addressText) => {\r\n  const raw = JSON.stringify(addressText);\r\n  const url = `${API_ROOT}/geocoding/v5/mapbox.places/${raw}.json?access_token=${TOKEN}`;\r\n  try {\r\n    const res = await fetch(url);\r\n    const json = await res.json();\r\n    return {\r\n      placeName: json.features[0].place_name,\r\n      lon: json.features[0].center[0],\r\n      lat: json.features[0].center[1],\r\n    };\r\n  }\r\n  catch (error) {\r\n    Log(\"Not found address: \" + addressText);\r\n    throw 'Location not found';\r\n  }\r\n}\r\n\r\n/***\r\n * prerequisite: \r\n *  locati: {lon: String, lat: String}\r\n *  locati is valid location\r\n */\r\nconst locationsToRoutes = async (locatiA, locatiB) => { \r\n  const URL = `https://api.mapbox.com/directions/v5/mapbox/driving/${locatiA.lon},${locatiA.lat};${locatiB.lon},${locatiB.lat}?alternatives=false&continue_straight=false&geometries=geojson&overview=simplified&steps=false&access_token=${TOKEN}`;\r\n  const res = await fetch(URL);\r\n  const json = await res.json();\r\n  return json.routes.map(route => {\r\n    return {\r\n      distance: route.distance,\r\n      duration: route.duration,\r\n    };\r\n  })\r\n}\r\n\r\nfunction getDistanceFromLatLonInKm(lat1,lon1,lat2,lon2) {\r\n  const R = 6371; // Radius of the earth in km\r\n  const dLat = deg2rad(lat2-lat1);  // deg2rad below\r\n  const dLon = deg2rad(lon2-lon1); \r\n  const a = \r\n    Math.sin(dLat/2) * Math.sin(dLat/2) +\r\n    Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * \r\n    Math.sin(dLon/2) * Math.sin(dLon/2)\r\n    ; \r\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); \r\n  const d = R * c; // Distance in km\r\n  return d;\r\n}\r\n\r\nfunction deg2rad(deg) {\r\n  return deg * (Math.PI/180);\r\n}","export const districtOptionList = ['Quận 1', 'Quận 2', 'Quận 3', 'Quận 4', 'Quận 5', 'Quận 6', 'Quận 7', 'Quận 8', 'Quận 9', 'Quận 10', 'Quận 11', 'Quận 12', 'Quận Bình Tân', 'Quận Bình Thạnh', 'Quận Tân Bình ', 'Quận Gò Vấp', 'Quận Phú Nhuận', 'Quận Tân Phú', 'Quận Thủ Đức', 'Huyện Bình Chánh', 'Huyện Cần Giờ', 'Huyện Củ Chi', 'Huyện Hóc Môn', 'Huyện Nhà Bè'];\r\nexport const wardOptionList =\r\n{\r\n  'Quận 1': ['Phường Bến Nghé', 'Phường Bến Thành', 'Phường Cầu Kho', 'Phường Cầu Ông Lãnh', 'Phường Cô Giang', 'Phường Đa Kao', 'Phường Nguyễn Cư Trinh', 'Phường Nguyễn Thái Bình', 'Phường Phạm Ngũ Lão', 'Phường Tân Định'],\r\n  'Quận 2': ['Phường An Khánh', 'Phường An Lợi Đông', 'Phường An Phú', 'Phường Bình An', 'Phường Bình Khánh', 'Phường Bình Trưng Đông', 'Phường Bình Trưng Tây', 'Phường Cát Lái', 'Phường Thạnh Mỹ Lợi', 'Phường Thảo Điền', 'Phường Thủ Thiêm'],\r\n  'Quận 3': ['Phường 01', 'Phường 02', 'Phường 03', 'Phường 04', 'Phường 05', 'Phường 06', 'Phường 07', 'Phường 08', 'Phường 09', 'Phường 10', 'Phường 11', 'Phường 12', 'Phường 13', 'Phường 14'],\r\n  'Quận 4': ['Phường 01', 'Phường 02', 'Phường 03', 'Phường 04', 'Phường 05', 'Phường 06', 'Phường 08', 'Phường 09', 'Phường 10', 'Phường 12', 'Phường 13', 'Phường 14', 'Phường 15', 'Phường 16', 'Phường 18'],\r\n  'Quận 5': ['Phường 01', 'Phường 02', 'Phường 03', 'Phường 04', 'Phường 05', 'Phường 06', 'Phường 07', 'Phường 08', 'Phường 09', 'Phường 10', 'Phường 11', 'Phường 12', 'Phường 13', 'Phường 14', 'Phường 15'],\r\n  'Quận 6': ['Phường 01', 'Phường 02', 'Phường 03', 'Phường 04', 'Phường 05', 'Phường 06', 'Phường 07', 'Phường 08', 'Phường 09', 'Phường 10', 'Phường 11', 'Phường 12', 'Phường 13', 'Phường 14'],\r\n  'Quận 7': ['Phường Bình Thuận', 'Phường Phú Mỹ', 'Phường Phú Thuận', 'Phường Tân Hưng', 'Phường Tân Kiểng', 'Phường Tân Phong', 'Phường Tân Phú', 'Phường Tân Quy', 'Phường Tân Thuận Đông', 'Phường Tân Thuận Tây'],\r\n  'Quận 8': ['Phường 01', 'Phường 02', 'Phường 03', 'Phường 04', 'Phường 05', 'Phường 06', 'Phường 08', 'Phường 09', 'Phường 10', 'Phường 12', 'Phường 13', 'Phường 14', 'Phường 15', 'Phường 16'],\r\n  'Quận 9': ['Phường Hiệp Phú', 'Phường Long Bình', 'Phường Long Phước', 'Phường Long Thạnh Mỹ', 'Phường Long Trường', 'Phường Phú Hữu', 'Phường Phước Bình', 'Phường Phước Long A', 'Phường Phước Long B', 'Phường Tân Phú', 'Phường Tăng Nhơn Phú A', 'Phường Tăng Nhơn Phú B', 'Phường Trường Thạnh'],\r\n  'Quận 10': ['Phường 01', 'Phường 02', 'Phường 03', 'Phường 04', 'Phường 05', 'Phường 06', 'Phường 07', 'Phường 08', 'Phường 09', 'Phường 10', 'Phường 11', 'Phường 12', 'Phường 13', 'Phường 14', 'Phường 15'],\r\n  'Quận 11': ['Phường 01', 'Phường 02', 'Phường 03', 'Phường 04', 'Phường 05', 'Phường 06', 'Phường 08', 'Phường 09', 'Phường 10', 'Phường 12', 'Phường 13', 'Phường 14', 'Phường 15', 'Phường 16'],\r\n  'Quận 12': ['Phường An Phú Đông', 'Phường Đông Hưng Thuận', 'Phường Hiệp Thành', 'Phường Tân Chánh Hiệp', 'Phường Tân Hưng Thuận', 'Phường Tân Thới Hiệp', 'Phường Tân Thới Nhất', 'Phường Thạnh Lộc', 'Phường Thạnh Xuân', 'Phường Thới An', 'Phường Trung Mỹ Tây'],\r\n  'Quận Bình Tân': ['Phường An Lạc', 'Phường An Lạc A', 'Phường Bình Hưng Hòa', 'Phường Bình Hưng Hoà A', 'Phường Bình Hưng Hoà B', 'Phường Bình Trị Đông', 'Phường Bình Trị Đông A', 'Phường Bình Trị Đông B', 'Phường Tân Tạo', 'Phường Tân Tạo A'],\r\n  'Quận Bình Thạnh': ['Phường 01', 'Phường 02', 'Phường 03', 'Phường 05', 'Phường 06', 'Phường 07', 'Phường 11', 'Phường 12', 'Phường 13', 'Phường 14', 'Phường 15', 'Phường 17', 'Phường 19', 'Phường 21', 'Phường 22', 'Phường 24', 'Phường 25', 'Phường 26', 'Phường 27', 'Phường 28'],\r\n  'Quận Tân Bình ': ['Phường 01', 'Phường 02', 'Phường 03', 'Phường 04', 'Phường 05', 'Phường 06', 'Phường 07', 'Phường 08', 'Phường 09', 'Phường 10', 'Phường 11', 'Phường 12', 'Phường 13', 'Phường 14', 'Phường 15'],\r\n  'Quận Gò Vấp': ['Phường 01', 'Phường 03', 'Phường 04', 'Phường 05', 'Phường 06', 'Phường 07', 'Phường 08', 'Phường 09', 'Phường 10', 'Phường 11', 'Phường 12', 'Phường 13', 'Phường 14', 'Phường 15', 'Phường 16', 'Phường 17'],\r\n  'Quận Phú Nhuận': ['Phường 01', 'Phường 02', 'Phường 03', 'Phường 04', 'Phường 05', 'Phường 07', 'Phường 08', 'Phường 09', 'Phường 10', 'Phường 11', 'Phường 12', 'Phường 13', 'Phường 14', 'Phường 15', 'Phường 17'],\r\n  'Quận Tân Phú': ['Phường Hiệp Tân', 'Phường Hoà Thạnh', 'Phường Phú Thạnh', 'Phường Phú Thọ Hoà', 'Phường Phú Trung', 'Phường Sơn Kỳ', 'Phường Tân Qúy', 'Phường Tân Sơn Nhì', 'Phường Tân Thành', 'Phường Tân Thới Hoà', 'Phường Tây Thạnh'],\r\n  'Quận Thủ Đức': ['Phường Bình Chiểu', 'Phường Bình Thọ', 'Phường Hiệp Bình Chánh', 'Phường Hiệp Bình Phước', 'Phường Linh Chiểu', 'Phường Linh Đông', 'Phường Linh Tây', 'Phường Linh Trung', 'Phường Linh Xuân', 'Phường Tam Bình', 'Phường Tam Phú', 'Phường Trường Thọ'],\r\n\r\n  'Huyện Bình Chánh': ['Thị trấn Tân Túc', 'Xã An Phú Tây', 'Xã Bình Chánh', 'Xã Bình Hưng', 'Xã Bình Lợi', 'Xã Đa Phước', 'Xã Hưng Long', 'Xã Lê Minh Xuân', 'Xã Phạm Văn Hai', 'Xã Phong Phú', 'Xã Quy Đức', 'Xã Tân Kiên', 'Xã Tân Nhựt', 'Xã Tân Quý Tây', 'Xã Vĩnh Lộc A', 'Xã Vĩnh Lộc B'],\r\n  'Huyện Cần Giờ': ['Thị trấn Cần Thạnh', 'Xã An Thới Đông', 'Xã Bình Khánh', 'Xã Long Hòa', 'Xã Lý Nhơn', 'Xã Tam Thôn Hiệp', 'Xã Thạnh An'],\r\n  'Huyện Củ Chi': ['Thị trấn Củ Chi', 'Xã An Nhơn Tây', 'Xã An Phú', 'Xã Bình Mỹ', 'Xã Hòa Phú', 'Xã Nhuận Đức', 'Xã Phạm Văn Cội', 'Xã Phú Hòa Đông', 'Xã Phú Mỹ Hưng', 'Xã Phước Hiệp', 'Xã Phước Thạnh', 'Xã Phước Vĩnh An', 'Xã Tân An Hội', 'Xã Tân Phú Trung', 'Xã Tân Thạnh Đông', 'Xã Tân Thạnh Tây', 'Xã Tân Thông Hội', 'Xã Thái Mỹ', 'Xã Trung An', 'Xã Trung Lập Hạ', 'Xã Trung Lập Thượng'],\r\n  'Huyện Hóc Môn': ['Thị trấn Hóc Môn', 'Xã Bà Điểm', 'Xã Đông Thạnh', 'Xã Nhị Bình', 'Xã Tân Hiệp', 'Xã Tân Thới Nhì', 'Xã Tân Xuân', 'Xã Thới Tam Thôn', 'Xã Trung Chánh', 'Xã Xuân Thới Đông', 'Xã Xuân Thới Sơn', 'Xã Xuân Thới Thượng'],\r\n  'Huyện Nhà Bè': ['Thị trấn Nhà Bè', 'Xã Hiệp Phước', 'Xã Long Thới', 'Xã Nhơn Đức', 'Xã Phú Xuân', 'Xã Phước Kiển', 'Xã Phước Lộc'],\r\n}\r\n","import { useState, useEffect } from \"react\"\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { calculateShipFee, FROM } from \"./Map\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { districtOptionList, wardOptionList } from \"./data\"; \r\nconst axios = require('axios');\r\n\r\nconst contactData = {\r\n    name: 'Nguyễn Phúc Vinh',\r\n    phone: '0373 395 726',\r\n    addr: `Ticklab, 92/10, đường Vành Đai ĐH Quốc Gia TP.HCM, khu phố Tân Lập,\r\n\t \tPhường Linh Trung, Quận Thủ Đức, Hồ Chí Minh`\r\n};\r\n\r\n\r\nfunction Product(props) {\r\n    return (\r\n        <li className=\"list-group-item d-flex justify-content-between lh-sm\">\r\n            <div className='col-2'>\r\n                <img src={props.product.imgUrl} alt=\"\" style={{ marginTop: 4, width: '100%' }} />\r\n            </div>\r\n            <div class='col-6 float-start'>\r\n                <h6 class=\"my-0\">{props.product.name}</h6>\r\n                <small class=\"text-muted\">Số lượng : {props.product.quantity}</small>\r\n            </div>\r\n            <div className='col-2 float-end'>\r\n                <span className=\"text-muted\">{new Intl.NumberFormat().format(props.product.price\r\n                    * props.product.quantity * (1 - parseFloat(props.product.discount) / 100)\r\n                    + parseInt(props.product.addition))\r\n                }</span>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default function CheckOut() {\r\n\r\n    const DEFAULT_LOCATE = 'Lựa chọn';\r\n    wardOptionList[DEFAULT_LOCATE] = [];\r\n    const [district, setDistrict] = useState(DEFAULT_LOCATE)\r\n    const [ward, setWard] = useState(DEFAULT_LOCATE)\r\n    const [wardOption, setWardOption] = useState([])\r\n\r\n    const [shipFee, setShipFee] = useState(null);\r\n    const [shipTime, setShipTime] = useState();\r\n    const [shipAddress, setShipAddress] = useState('');\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n\r\n            if (district === DEFAULT_LOCATE || ward === DEFAULT_LOCATE) {\r\n                setShipFee(null);\r\n            } else {\r\n                const to = ward + ', ' + district + ' Ho Chi Minh City';\r\n                console.log({to});\r\n                const { shipFee, duration } = await calculateShipFee(FROM, to);\r\n                setShipFee(shipFee);\r\n                setShipTime(duration);\r\n            }\r\n        }\r\n        fetchData();\r\n    }, [district, ward]);\r\n    const handleDistrictChange = (newDistrict) => {\r\n        setDistrict(newDistrict);\r\n        setWard(DEFAULT_LOCATE);\r\n        setWardOption(wardOptionList[newDistrict] || []);\r\n    }\r\n    const handleWardChange = (event) => {\r\n        let address = document.getElementById('input-address').value\r\n        let district = document.getElementById('district').value\r\n        // setDistrict(district);\r\n        let ward = document.getElementById('ward').value\r\n        setShipAddress(`${address}, ${ward}, ${district} `)\r\n        setWard(event.target.value);\r\n    }\r\n\r\n    const location = useLocation().state;\r\n\r\n    // let shipFee = 50000\r\n\r\n\r\n    function handleCheckOut(e) {\r\n        let name = document.getElementById('input-name').value\r\n        let phone = document.getElementById('input-phone').value\r\n        let address = document.getElementById('input-address').value\r\n        let district = document.getElementById('district').value\r\n        let ward = document.getElementById('ward').value\r\n        let paymentMethod = document.querySelector('input[type=\"radio\"]:checked');\r\n        console.log(\"Payyyyy\")\r\n\r\n        const cartStorage = JSON.parse(localStorage.getItem('cart'));\r\n\r\n\r\n\r\n        e.preventDefault();\r\n\r\n        if (name === '' || phone === '' || address === '' || district === 'Lựa chọn' || ward === 'Lựa chọn' || paymentMethod === null) {\r\n            toast.error('Thông tin không hợp lệ', {\r\n                position: \"top-right\",\r\n                autoClose: 5000,\r\n                hideProgressBar: true,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n            });\r\n            return\r\n        }\r\n        axios.post('/order', {\r\n            \"customerInfo\": {\r\n                \"name\": name,\r\n                \"phone\": phone,\r\n                \"address\": address,\r\n                \"district\": district,\r\n                \"ward\": ward,\r\n                \"typeOrder\": paymentMethod.value === 'cod' ? 'Trực tiếp' : 'Online'\r\n            },\r\n            \"shipFee\": shipFee,\r\n            \"items\": location.map((orderInfo) => {\r\n                return {\r\n                    \"options\": orderInfo.sideDish,\r\n                    \"name\" : orderInfo.name,\r\n                    \"imageUrl\": orderInfo.imgUrl,\r\n                    \"price\": orderInfo.price * orderInfo.quantity\r\n                        * (1 - parseFloat(orderInfo.discount) / 100) + parseInt(orderInfo.addition),\r\n                    \"quantity\": orderInfo.quantity\r\n                }\r\n            })\r\n        })\r\n        .then(response => console.log(response))\r\n        console.log(location)\r\n\r\n        console.log(cartStorage)\r\n\r\n\r\n        const newCart = cartStorage.filter(cart => {\r\n            for (let item of location) {\r\n                if (item.foodId == cart.foodId) return false\r\n            }\r\n            return true\r\n        })\r\n\r\n        localStorage.setItem('cart', JSON.stringify(newCart))\r\n\r\n        console.log(newCart)\r\n\r\n\r\n        const TOTAL = location.reduce((acc, product) => {\r\n            return acc + product.price * product.quantity *(1 - parseFloat(product.discount) / 100)\r\n                + product.addition}, 0) + shipFee;\r\n        if(paymentMethod.value == \"online\") {\r\n            axios.post(\"/payment/process\", {\r\n                amount: (TOTAL / 23000).toFixed(1),\r\n                description: [name, phone, location.map((orderInfo) => orderInfo.name).join(\", \")].join(\" | \")\r\n            })\r\n            .then(res => {\r\n                window.location.href = res.data;\r\n            })\r\n            .catch(err => {{\r\n                alert(err);\r\n            }})\r\n        }\r\n        else {\r\n            window.location.href = \"/\"\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div class=\"container\">\r\n\r\n            <main>\r\n                <div class=\"pb-5 text-center\">\r\n\r\n                </div>\r\n\r\n                <div className=\"row g-5\">\r\n                    <div className=\"col-md-5 col-lg-4 order-md-last\">\r\n                        <h4 className=\"d-flex justify-content-between align-items-center mb-3\">\r\n                            <span className=\"text-danger\">Đơn Hàng</span>\r\n                            <span className=\"badge bg-danger rounded-pill\">{location.length}</span>\r\n                        </h4>\r\n                        <ul className=\"list-group mb-3\">\r\n                            {[...location].map((product, id) => {\r\n                                return <Product key={id} product={product} />\r\n                            })}\r\n                            {/* <li className=\"list-group-item d-flex justify-content-between bg-light\">\r\n                                <div className=\"text-success\">\r\n                                    <h6 className=\"my-0\">Mã Khuyến Mãi</h6>\r\n                                    <small>Sinh nhật Tiến Minh</small>\r\n                                </div>\r\n                                <span className=\"text-success\">{discountCode}</span>\r\n                            </li> */}\r\n                            {(typeof (shipFee) === 'number') &&\r\n                                <li className=\"list-group-item d-flex justify-content-between bg-light\">\r\n                                    <div className=\"text-primary\">\r\n                                        <div>{`Giao tới : ${shipAddress}`}</div>\r\n                                        <div>{\"Thời gian dự kiến : \" + Math.round(shipTime) + ' Phút'}</div>\r\n                                    </div>\r\n                                </li>}\r\n                            {(typeof (shipFee) === 'number') &&\r\n                                <li className=\"list-group-item d-flex justify-content-between bg-light\">\r\n                                    <div className=\"text-primary\">\r\n                                        <h6 className=\"my-0\">Phí giao hàng</h6>\r\n                                    </div>\r\n                                    <span className=\"text-primary\">{new Intl.NumberFormat().format(shipFee)}</span>\r\n                                </li>}\r\n                            <li className=\"list-group-item d-flex justify-content-between\">\r\n                                <span>Tổng Tiền (VND)</span>\r\n                                <strong>{new Intl.NumberFormat().format(location.reduce((acc, product) => {\r\n                                    return acc + product.price * product.quantity * (1 - parseFloat(product.discount) / 100)\r\n                                        + product.addition\r\n                                }, 0) + shipFee)}</strong>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"col-md-7 col-lg-8\">\r\n                        <h4 className=\"mb-3\">Thông Tin Thanh Toán</h4>\r\n                        <form className=\"needs-validation\" method='POST' validate='true' onSubmit={handleCheckOut}>\r\n                            <div className=\"row g-3\">\r\n                                <div className=\"col-12\">\r\n                                    <div className=\"form-floating mb-2\">\r\n                                        <input type=\"text\" name='customerName' className=\"form-control\"\r\n                                            id=\"input-name\" placeholder=\"Hoàng Văn A\" />\r\n                                        <label htmlFor=\"input-name\">Họ và tên</label>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"col-12\">\r\n                                    <div className=\"form-floating mb-2\">\r\n                                        <input type=\"phone\" name='customerNoPhone' className=\"form-control\" id=\"input-phone\" placeholder=\"01234556789\" />\r\n                                        <label htmlFor=\"input-phone\">Số điện thoại</label>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"col-12\">\r\n                                    <div className=\"form-floating mb-2\">\r\n                                        <input type=\"address\" name='customerAddress' className=\"form-control\" id=\"input-address\" placeholder=\"40 Vũ Trọng Phụng\" />\r\n                                        <label htmlFor=\"input-address\">Địa chỉ</label>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"col-md\">\r\n                                    <label htmlFor=\"district\" className=\"form-label\">Quận/Huyện</label>\r\n                                    <select className=\"form-select\" name='customerDistrict' id=\"district\" \r\n                                      defaultValue={DEFAULT_LOCATE} onChange={even => {\r\n                                        // if (even.target.value === 'Lựa chọn') {\r\n                                        //   setWard('Lựa chọn');\r\n                                        //   setWardOption([]);\r\n                                        // }\r\n                                        // else setWardOption(wardOptionList[even.target.value])\r\n                                        // handleDistrictChange(even);\r\n                                        handleDistrictChange(even.target.value);\r\n                                    }}>\r\n                                        <option>{DEFAULT_LOCATE}</option>\r\n                                        {districtOptionList.map(district => (\r\n                                          <option key={district}>{district}</option>\r\n                                        ))}\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div className=\"col-md\" >\r\n                                    <label htmlFor=\"ward\" className=\"form-label\">Phường / Xã</label>\r\n                                    <select className=\"form-select\" name='customerWard' id=\"ward\" defaultValue={DEFAULT_LOCATE}\r\n                                    onChange={event => handleWardChange(event)} >\r\n                                        <option >Lựa chọn</option>\r\n                                        {/* <WardOption /> */}\r\n                                        {wardOption.map(ward => <option key={ward} value={ward}>{ward}</option>)}\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* <hr class=\"my-4\" />\r\n\r\n                            <div class=\"form-check\">\r\n                                <input type=\"checkbox\" class=\"form-check-input\" id=\"save-info\" />\r\n                                <label class=\"form-check-label\" htmlFor=\"save-info\">Save this information for next time</label>\r\n                            </div> */}\r\n\r\n                            <hr class=\"my-4\" />\r\n\r\n                            <h4 class=\"mb-3\">Phương thức thanh toán</h4>\r\n\r\n                            <div className=\"my-3\">\r\n                                <div className=\"form-check\">\r\n                                    <input id=\"cod\" name=\"paymentMethod\" value='cod' type=\"radio\" className=\"form-check-input\" />\r\n                                    <label className=\"form-check-label\" htmlFor=\"cod\">Thanh toán khi nhận hàng</label>\r\n                                </div>\r\n                                <div className=\"form-check\">\r\n                                    <label className=\"form-check-label\" htmlFor=\"online\">Thanh toán Online</label>\r\n                                    <input id=\"online\" name=\"paymentMethod\" value='online' type=\"radio\" className=\"form-check-input\" />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <hr class=\"my-4\" />\r\n\r\n                            <button className=\"w-25 btn btn-danger btn-lg float-end text-white\" type=\"submit\" onClick={handleCheckOut} >Thanh Toán</button>\r\n                            <ToastContainer />\r\n                        </form>\r\n                        <button className=\"w-25 btn btn-lg float-start text-white\" style={{ backgroundColor: \"blue\" }} onClick={(e) => {\r\n                            e.preventDefault();\r\n                            window.location.href = '/my-cart';\r\n                        }\r\n                        }>Quay lại</button>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n\r\n\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport './ProcessBar.css'\r\nimport { Badge, Col, Figure, Modal, Row } from \"react-bootstrap\";\r\nimport axios from 'axios';\r\n\r\n\r\n// ReactDOM.render(logOutIcon,document.getElementById('logout'))\r\n\r\n\r\nexport default function HandlerOrder() {\r\n\r\n    // const [dataReceived, setDataReceived] = useState([])\r\n\r\n    const [data, setData] = useState([])\r\n\r\n    useEffect(() => {\r\n        axios.get(`/order/manage-order/Đang chờ xử lý`)\r\n            .then(res => {\r\n                // res.data.forEach(order => {\r\n                //     order.items.forEach(item => {\r\n                //         axios.get(`http://localhost:8080/food/${item.foodId}`)\r\n                //             .then(res => {\r\n                //                 item.foodId = res.data;\r\n                //             });\r\n                //     })\r\n                // })\r\n                setData(res.data);\r\n            })\r\n    }, [])\r\n\r\n    const [onDisplayNumber, setOnDisplayNumber] = useState(1)\r\n    function ProcessBar() {\r\n\r\n\r\n        function displayOrder(currStatus, number) {\r\n            setOnDisplayNumber(number)\r\n\r\n            axios.get(`/order/manage-order/${currStatus}`)\r\n                .then(res => {\r\n                    // res.data.forEach(order => {\r\n                    //     order.items.forEach(item => {\r\n                    //         axios.get(`http://localhost:8080/food/${item.foodId}`)\r\n                    //             .then(res => {\r\n                    //                 item.foodId = res.data;\r\n                    //             });\r\n                    //     })\r\n                    // })\r\n                    setData(res.data)\r\n                })\r\n        }\r\n\r\n        function handlerAcceptAll() {\r\n            let statusCurr = 'Đang chờ xử lý'\r\n            let statusUpdate = 'Đang được làm'\r\n\r\n            if (onDisplayNumber === 2) {\r\n                statusCurr = 'Đang được làm'\r\n                statusUpdate = 'Đang giao hàng'\r\n            }\r\n            else if (onDisplayNumber === 3) {\r\n                statusCurr = 'Đang giao hàng'\r\n                statusUpdate = 'Đã giao'\r\n            }\r\n            else if (onDisplayNumber === 4) {\r\n                statusCurr = 'Đã giao'\r\n                statusUpdate = 'Done'\r\n            }\r\n            axios.post(\"/order/manage-order/accept\", {\r\n                \"statusCurr\": statusCurr,\r\n                \"statusUpdate\": statusUpdate\r\n            })\r\n                .then(setData([]))\r\n\r\n        }\r\n\r\n\r\n        function handlerRejectAll() {\r\n            let status = 'Đang chờ xử lý'\r\n\r\n            if (onDisplayNumber === 2) status = 'Đang được làm'\r\n            else if (onDisplayNumber === 3) status = 'Đang giao hàng'\r\n            else if (onDisplayNumber === 4) status = 'Đã giao'\r\n\r\n            axios.post(\"/order/manage-order/reject\", {\r\n                \"status\": status\r\n            })\r\n                .then(setData([]))\r\n        }\r\n\r\n        return (\r\n            <div className=\"main_container\">\r\n                <div className=\"container padding-bottom-3x mb-1\">\r\n                    <div className=\"card mb-3\">\r\n                        <div className=\"p-4 text-center text-white text-lg rounded-top\" style={{ backgroundColor: 'black' }}>\r\n                            <span className=\"text-uppercase\">Management Order</span>\r\n                        </div>\r\n                        <div className=\"d-flex flex-wrap flex-sm-nowrap justify-content-between py-3 px-2 bg-secondary\">\r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                            <div className=\"steps d-flex flex-wrap flex-sm-nowrap justify-content-between padding-top-2x padding-bottom-1x\">\r\n                                <div className={onDisplayNumber >= 1 ? 'step completed' : 'step'} >\r\n                                    <div className=\"step-icon-wrap\">\r\n                                        <div className=\"step-icon\" onClick={() => displayOrder('Đang chờ xử lý', 1)} style={{ cursor: 'pointer' }}><i className=\"pe-7s-cart\"></i></div>\r\n                                    </div>\r\n                                    <h4 className=\"step-title\">Đang chờ xử lý</h4>\r\n                                </div>\r\n                                <div className={onDisplayNumber >= 2 ? 'step completed' : 'step'} >\r\n                                    <div className=\"step-icon-wrap\">\r\n                                        <div className=\"step-icon\" onClick={() => displayOrder('Đang được làm', 2)} style={{ cursor: 'pointer' }}><i className=\"pe-7s-config\"></i></div>\r\n                                    </div>\r\n                                    <h4 className=\"step-title\">Đang được làm </h4>\r\n                                </div>\r\n                                <div className={onDisplayNumber >= 3 ? 'step completed' : 'step'} >\r\n                                    <div className=\"step-icon-wrap\">\r\n                                        <div className=\"step-icon\" onClick={() => displayOrder('Đang giao hàng', 3)} style={{ cursor: 'pointer' }}><i className=\"pe-7s-car\"></i></div>\r\n                                    </div>\r\n                                    <h4 className=\"step-title\">Đang giao hàng</h4>\r\n                                </div>\r\n                                <div className={onDisplayNumber === 4 ? 'step completed' : 'step'}>\r\n                                    <div className=\"step-icon-wrap\">\r\n                                        <div className=\"step-icon\" onClick={() => displayOrder('Đã giao', 4)} style={{ cursor: 'pointer' }}><i className=\"pe-7s-credit\"></i></div>\r\n                                    </div>\r\n                                    <h4 className=\"step-title\">Đã giao</h4>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"d-flex flex-wrap flex-md-nowrap justify-content-center justify-content-sm-between align-items-center\">\r\n                        <div className=\"text-left text-sm-right\"><button className=\"btn btn-secondary btn-rounded btn-sm\" onClick={() => handlerRejectAll()}>Từ chối tất cả</button></div>\r\n                        <div className=\"text-left text-sm-right\"><button className=\"btn btn-primary btn-rounded btn-sm\" onClick={() => handlerAcceptAll()}>Chấp nhận tất cả</button></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    function OrderInfo({ order, idx }) {\r\n        const [lgShow, setLgShow] = useState(false);\r\n\r\n        function handlerAccept() {\r\n            let sttOrder = 'Đang chờ xử lý'\r\n\r\n            if (order.status === 'Đang chờ xử lý') sttOrder = 'Đang được làm'\r\n            else if (order.status === 'Đang được làm') sttOrder = 'Đang giao hàng'\r\n            else if (order.status === 'Đang giao hàng') sttOrder = 'Đã giao'\r\n            else if (order.status === 'Đã giao') sttOrder = 'Done'\r\n\r\n\r\n            axios.post(\"/order/manage-order\", {\r\n                \"orderId\": order._id,\r\n                \"sttOrder\": sttOrder\r\n            })\r\n                .then(() => {\r\n                    axios.get(`/order/manage-order/${order.status}`)\r\n                        .then(res => {\r\n                            // res.data.forEach(order => {\r\n                            //     order.items.forEach(item => {\r\n                            //         axios.get(`http://localhost:8080/food/${item.foodId}`)\r\n                            //             .then(res => {\r\n                            //                 item.foodId = res.data;\r\n                            //             });\r\n                            //     })\r\n                            // })\r\n                            setData(res.data)\r\n                        })\r\n                })\r\n\r\n        }\r\n\r\n        function handlerReject() {\r\n            axios.post(\"/order/manage-order\", {\r\n                \"orderId\": order._id,\r\n                \"sttOrder\": 'Đã từ chối'\r\n            })\r\n                .then(() => {\r\n                    axios.get(`/order/manage-order/${order.status}`)\r\n                        .then(res => {\r\n                            // res.data.forEach(order => {\r\n                            //     order.items.forEach(item => {\r\n                            //         axios.get(`http://localhost:8080/food/${item.foodId}`)\r\n                            //             .then(res => {\r\n                            //                 item.foodId = res.data;\r\n                            //             });\r\n                            //     })\r\n                            // })\r\n                            setData(res.data)\r\n                        })\r\n                })\r\n        }\r\n\r\n\r\n        return (\r\n            <>\r\n                <tr>\r\n                    <td onClick={() => setLgShow(true)} style={{ \"cursor\": \"pointer\" }}>{order._id}</td>\r\n                    <td onClick={() => setLgShow(true)} style={{ \"cursor\": \"pointer\" }}>{(new Date(order.createdAt)).toLocaleDateString()}</td>\r\n                    <td onClick={() => setLgShow(true)} style={{ \"cursor\": \"pointer\" }}>{order.customerInfo.name}</td>\r\n                    <td onClick={() => setLgShow(true)} style={{ \"cursor\": \"pointer\" }}>{order.customerInfo.typeOrder}</td>\r\n                    <td onClick={() => setLgShow(true)} style={{ \"cursor\": \"pointer\" }}>{Intl.NumberFormat().format(order.items.map((item) => item.price).reduce((acc, cur) => acc + cur, 0) + order.shipFee) + ' VND'}</td>\r\n                    <td>\r\n                        <button type=\"button\" class=\"btn btn-sm btn-outline-primary\" onClick={() => handlerAccept()} id={'accept' + idx}>Xử lý</button>\r\n                    </td>\r\n                    <td>\r\n                        <button type=\"button\" class=\"btn btn-sm btn-outline-secondary\" onClick={() => handlerReject()} id={'reject' + idx}>Xử lý</button>\r\n                    </td>\r\n                </tr>\r\n                <Modal\r\n                    size=\"lg\"\r\n                    scrollable={true}\r\n                    show={lgShow}\r\n                    onHide={() => setLgShow(false)}\r\n                    aria-labelledby=\"example-modal-sizes-title-lg\"\r\n                >\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title id=\"example-modal-sizes-title-lg\">\r\n                            Chi tiết đơn hàng\r\n                        </Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <Row>\r\n                            <Col>\r\n                                <h5>Thông tin khách hàng</h5>\r\n                                <Row>\r\n                                    <Col xl={5} lg={5} md={5} sm={5} xs={5}>Họ và tên:</Col>\r\n                                    <Col><p>{order.customerInfo.name}</p></Col>\r\n                                </Row>\r\n                                <Row>\r\n                                    <Col xl={5} lg={5} md={5} sm={5} xs={5}>Số điện thoại:</Col>\r\n                                    <Col><p>{order.customerInfo.phone}</p></Col>\r\n                                </Row>\r\n                                <Row>\r\n                                    <Col xl={5} lg={5} md={5} sm={5} xs={5}>Địa chỉ:</Col>\r\n                                    <Col><p>{order.customerInfo.address}</p></Col>\r\n                                </Row>\r\n                                <Row>\r\n                                    <Col xl={5} lg={5} md={5} sm={5} xs={5}>Phường / Xã:</Col>\r\n                                    <Col><p>{order.customerInfo.ward}</p></Col>\r\n                                </Row>\r\n                                <Row>\r\n                                    <Col xl={5} lg={5} md={5} sm={5} xs={5}>Quận / Huyện:</Col>\r\n                                    <Col><p>{order.customerInfo.district}</p></Col>\r\n                                </Row>\r\n                                <Row className='mb-3'>\r\n                                    <Col xl={5} lg={5} md={5} sm={5} xs={5}>Phí giao hàng :</Col>\r\n                                    <Col><p>{order.shipFee}</p></Col>\r\n                                </Row>\r\n                                <h5>Giỏ hàng</h5>\r\n                                {order.items.map(item => (\r\n                                    <Row>\r\n                                        <Col xl={2} lg={2} md={2} sm={2} xs={2}><Figure.Image alt=\"FoodImg\" src={item.imageUrl}></Figure.Image></Col>\r\n                                        <Col xl={6} lg={6} md={10} sm={10} xs={10}>\r\n                                            <Row><h5>{item.name}</h5></Row>\r\n                                            <Row><p>{item.options}</p></Row>\r\n                                        </Col>\r\n                                        <Col xl={2} lg={2} md={10} sm={10} xs={9}>\r\n                                            <p>Số lượng: {item.quantity}</p>\r\n                                        </Col>\r\n                                        <Col>\r\n                                            <Row><Badge variant=\"primary\" pill>{Intl.NumberFormat().format(item.price) + ' VND'}</Badge></Row>\r\n                                        </Col>\r\n                                    </Row>\r\n                                ))}\r\n                                <Row>\r\n                                    <Col xl={7} lg={7} md={7} sm={7} xs={5}><h4>Tổng tiền:</h4></Col>\r\n                                    <Col>\r\n                                        <h4><Badge variant=\"primary\" pill>{Intl.NumberFormat().format(order.items.map(item => item.price).reduce((acc, cur) => acc + cur, 0) + order.shipFee) + ' VND'}</Badge></h4>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Col>\r\n                        </Row>\r\n                    </Modal.Body>\r\n                </Modal>\r\n            </>\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <div class=\"container\">\r\n            <ProcessBar data={data} />\r\n            <div class=\"container mt-5 \">\r\n                <div class=\"table-responsive\">\r\n                    <table class=\"table table-striped table-sm table-hover\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th scope=\"col\">Mã đơn hàng</th>\r\n                                <th scope=\"col\">Ngày đặt hàng</th>\r\n                                <th scope=\"col\">Tên khách hàng </th>\r\n                                <th scope=\"col\">Loại đặt hàng</th>\r\n                                <th scope=\"col\">Tổng tiền</th>\r\n                                <th scope=\"col\">Chấp nhận</th>\r\n                                <th scope=\"col\">Từ chối</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody id='list-order'>\r\n                            {data.map((order, index) => {\r\n                                return <OrderInfo order={order} idx={index + 1} />\r\n                            })}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute({ component: Component }) {\r\n  const isAuthenticated = localStorage.getItem(\"isAuthenticated\");\r\n  console.log(\"this\", isAuthenticated);\r\n\r\n  return (\r\n    <Route\r\n      render={() =>\r\n        isAuthenticated ? <Component/> : <Redirect to=\"/login\" />\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default ProtectedRoute;","export default function Success() {\r\n    return(\r\n        <div class=\"container mt-5\">\r\n            <div class=\"d-flex justify-content-center h-25\">\r\n                <img src=\"https://png.pngtree.com/png-vector/20190721/ourlarge/pngtree-flat-restaurant-illustration-png-image_1568130.jpg\"></img>\r\n            </div>\r\n            <h2 class=\"text-center block p-4 text-success\">THÀNH CÔNG!</h2>\r\n            <h4 class=\"text-center block pb-4\">Đơn đặt hàng của quý khách đã được gửi đi thành công.</h4>\r\n            <h4 class=\"text-center block pb-4\">Chúc quý khách ngon miệng!</h4>\r\n            <div class=\"row justify-content-center\">\r\n                <button class=\"btn btn-primary col-auto\"\r\n                onClick={() => window.location.href = \"/\"}>Trang chủ</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import Homepage from \"./components/homepage/HomePage\";\r\nimport Cart from './components/cart/Cart';\r\nimport Appbar from \"./components/homepage/Appbar\";\r\nimport CartInfo from \"./components/cartinfo/CartInfo\";\r\nimport FoodInfo from \"./components/FoodInfo/FoodInfo\";\r\nimport Login from \"./components/Login/Login\";\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route\r\n} from \"react-router-dom\";\r\nimport Footer from \"./components/homepage/Footer\";\r\nimport TaskSearch from \"./components/Menu/TaskSearch\";\r\nimport CheckOut from \"./components/CheckOut/CheckOut\";\r\nimport HandlerOrder from \"./components/HandlerOrder/HandlerOrder\";\r\nimport ProtectedRoute from \"./components/Login/ProtectedRoute\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Success from \"./components/CheckOut/Success\";\r\n\r\n\r\nimport EditPage from \"./components/staff/FoodEditor\";\r\n\r\nfunction App() {\r\n\tconst [nCartItem, setNCartItem] = useState(0);\r\n\tuseEffect(() => {\r\n\t\tif(localStorage.getItem(\"cart\")) {\r\n\t\t\tsetNCartItem(JSON.parse(localStorage.getItem(\"cart\")).length);\r\n\t\t}\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<div className=\"App container-fluid\">\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<Appbar nCartItem={nCartItem} />\r\n\t\t\t</div>\r\n\t\t\t<div id=\"MenuFirst\">\r\n\t\t\t\t<Router>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<ProtectedRoute exact path='/manage-order' component={HandlerOrder} />\r\n\t\t\t\t\t\t<Route path=\"/login\" exact component={Login} />\r\n\t\t\t\t\t\t<Route path=\"/my-cart\" exact render={() => <Cart setNCartItem={setNCartItem}/>} />\r\n\t\t\t\t\t\t<Route path=\"/menu\" exact component={TaskSearch} />\r\n\t\t\t\t\t\t<Route path=\"/checkout\" exact component={CheckOut} />\r\n\t\t\t\t\t\t<Route path=\"/cart-item-info/:id\" exact component={CartInfo} />\r\n\t\t\t\t\t\t<Route path=\"/food-info/:foodId\" exact render={props => <FoodInfo setNCartItem={setNCartItem}/>} />\r\n\t\t\t\t\t\t<Route path=\"/success\" exact component={Success}/>\r\n\t\t\t\t\t\t<Route path=\"/\" exact component={Homepage} />\r\n\t\t\t\t\t\t<Route path='/edit' exact component={EditPage} />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</Router>\r\n\t\t\t</div>\r\n\t\t\t<div id=\"PaginationSearch\">\r\n\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<Footer/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import './scss/custom-bootstrap.scss';\r\nimport 'bootstrap/dist/js/bootstrap';\r\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n//import reportWebVitals from './reportWebVitals';\r\nimport 'bootstrap/dist/js/bootstrap';\r\nimport Map from './components/CheckOut/Map';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n    {/* <Map /> */}\r\n    \r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n"],"sourceRoot":""}